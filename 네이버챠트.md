## HTML 기반 워터폴(자산 증감) 차트 구현 분석

제시된 이미지는 자산의 증감 과정을 시각화한 **워터폴 차트**입니다. HTML 환경에서 이와 유사한 차트를 개발하려면 아래와 같은 라이브러리와 접근법이 적합합니다.

---

## 1. 워터폴 차트 구현에 적합한 JS 라이브러리

### **AnyChart**
- 워터폴 차트 전용 모듈을 제공하며, HTML에 바로 적용 가능.
- 계단식 증감, 누적, 부분합, 색상 커스터마이징 등 다양한 옵션 지원.
- 공식 문서와 예제 코드가 풍부해 빠른 개발 가능[2][3][6].

#### **기본 예제**
```html
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Waterfall Chart Example</title>
  <script src="https://cdn.anychart.com/releases/8.11.1/js/anychart-core.min.js"></script>
  <script src="https://cdn.anychart.com/releases/8.11.1/js/anychart-waterfall.min.js"></script>
  <style>
    html, body, #WaterfallContainer { width: 100%; height: 100%; margin: 0; padding: 0; }
  </style>
</head>
<body>
  <div id="WaterfallContainer"></div>
  <script>
    anychart.onDocumentReady(function () {
      var data = [
        { x: "기초잔고", value: 16.2 },
        { x: "신규투자/출자", value: 5.9 },
        { x: "분배/평가/처분조정/유동화", value: 0.8 },
        { x: "기말잔고", isTotal: true }
      ];
      var chart = anychart.waterfall(data);
      chart.title('자산 증감 워터폴 차트');
      chart.container('WaterfallContainer');
      chart.draw();
    });
  </script>
</body>
</html>
```
- 데이터 구조는 `{ x: "카테고리", value: 숫자 }` 또는 `{ x: "카테고리", isTotal: true }` 형태로 작성[3][6].

### **Chart.js**
- v2.9.0 이상에서 floating bar를 활용한 워터폴 차트 구현 가능.
- 커스텀 플러그인이나 데이터 변환을 통해 증감 구조를 표현[4].
- 공식 워터폴 플러그인도 존재(예: chartjs-plugin-waterfall).

#### **간단 예시**
```html
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"></script>
<canvas id="waterfall" height="200"></canvas>
<script>
let baseData = [
  { label: '기초잔고', value: 16.2 },
  { label: '신규투자/출자', value: 5.9 },
  { label: '분배/평가/처분조정/유동화', value: 0.8 },
  { label: '기말잔고', value: 24.3 }
];
const labels = baseData.map(o => o.label);
const data = [];
let total = 0;
for (let i = 0; i < baseData.length; i++) {
  const vStart = total;
  total += baseData[i].value;
  data.push([vStart, total]);
}
new Chart('waterfall', {
  type: 'bar',
  data: {
    labels: labels,
    datasets: [{
      data: data,
      backgroundColor: ['#B2DFDB', '#4DD0E1', '#80CBC4', '#009688'],
      barPercentage: 1
    }]
  },
  options: {
    responsive: true,
    legend: { display: false }
  }
});
</script>
```
- Chart.js는 복잡한 분할(직접/간접 투자 등) 시 커스텀 데이터 가공 필요[4].

### **Highcharts**
- 워터폴 차트 타입을 기본 지원.
- 커스텀 색상, 툴팁, 부분합 등 다양한 옵션 제공[7].

### **CanvasJS**
- 워터폴 차트 타입을 지원하며, risingColor/fallingColor 등으로 증감 색상 지정 가능[5].

---

## 2. 차트 구조 분석 및 데이터 설계

- **카테고리**: 기초잔고, 신규투자/출자, 분배/평가/처분조정/유동화, 기말잔고 등
- **세부 분류**: 직접투자/간접투자(색상으로 구분)
- **증감 표시**: 각 단계별 +, - 값
- **부분합/총합**: isTotal, isIntermediateSum 등 속성 활용
- **색상**: 직접/간접 투자별 색상 지정 필요

---

## 3. 구현 시 참고 포인트

- **데이터 포맷**: 각 카테고리별 value 및 세부 항목(직접/간접 투자 등)을 배열로 관리
- **색상 커스터마이즈**: 라이브러리별로 색상 지정 옵션 활용
- **툴팁/라벨**: 각 증감값, 비율, 설명 등 표시 가능
- **반응형/인터랙티브**: 대부분의 JS 차트 라이브러리에서 지원

---

## 4. 추천

- **AnyChart**: 복잡한 증감 구조, 부분합, 색상 커스터마이징이 쉬워 가장 추천[2][3][6].
- **Chart.js**: 오픈소스, 커스텀 구현이 가능하며, 플러그인 활용 시 편리[4].
- **Highcharts/CanvasJS**: 상업적 프로젝트나 고급 옵션 필요 시 고려[5][7].

---

## 결론

HTML 환경에서 제시된 이미지와 같은 워터폴(자산 증감) 차트를 구현하려면 **AnyChart**가 가장 쉽고 강력합니다. Chart.js, Highcharts, CanvasJS 등도 가능하나, AnyChart가 복잡한 누적 구조와 커스텀 색상, 라벨링에 특히 강점이 있습니다.  
각 라이브러리 공식 문서의 워터폴 차트 예제를 참고해, 실제 데이터에 맞는 구조로 변환하여 적용하면 됩니다[2][3][4][5][6][7].

출처
[1] SCR-20250605-otxg.jpg https://pplx-res.cloudinary.com/image/upload/v1749432941/user_uploads/44300177/bdc1224c-6a37-4447-9d76-f462e35dcdea/SCR-20250605-otxg.jpg
[2] How to Create Waterfall Chart with JavaScript (HTML5) - AnyChart https://www.anychart.com/blog/2021/03/16/waterfall-chart-js/
[3] Waterfall Chart | Basic Charts - AnyChart Documentation https://docs.anychart.com/Basic_Charts/Waterfall_Chart
[4] chart.js plugin for making waterfall charts - Stack Overflow https://stackoverflow.com/questions/38703114/chart-js-plugin-for-making-waterfall-charts
[5] JavaScript Waterfall Charts & Graphs - CanvasJS https://canvasjs.com/javascript-charts/waterfall-chart/
[6] Building Waterfall Charts in JS - AnyChart https://www.anychart.com/blog/2023/11/02/waterfall-charts-javascript/
[7] Waterfall Demo - Highcharts https://www.highcharts.com/demo/highcharts/waterfall
[8] Waterfall charts in JavaScript - Plotly https://plotly.com/javascript/waterfall-charts/
[9] Waterfall Charts in JavaScript (HTML5) | FusionCharts https://www.fusioncharts.com/charts/waterfall-charts
[10] Interactive Waterfall Chart | SciChart.js Demo https://demo.scichart.com/javascript/interactive-waterfall-chart
[11] HTML5 & JS Waterfall Chart - CanvasJS https://canvasjs.com/docs/charts/chart-types/html5-waterfall-chart/
