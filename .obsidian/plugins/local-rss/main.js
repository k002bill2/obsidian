/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var ni=Object.create;var pt=Object.defineProperty;var oi=Object.getOwnPropertyDescriptor;var si=Object.getOwnPropertyNames;var ai=Object.getPrototypeOf,ui=Object.prototype.hasOwnProperty;var R=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ci=(e,t)=>{for(var n in t)pt(e,n,{get:t[n],enumerable:!0})},de=(e,t,n,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of si(t))!ui.call(e,a)&&a!==n&&pt(e,a,{get:()=>t[a],enumerable:!(s=oi(t,a))||s.enumerable});return e};var li=(e,t,n)=>(n=e!=null?ni(ai(e)):{},de(t||!e||!e.__esModule?pt(n,"default",{value:e,enumerable:!0}):n,e)),hi=e=>de(pt({},"__esModule",{value:!0}),e);var gt=R(Ht=>{(function(){Ht.defaults={"0.1":{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},"0.2":{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:`
`},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(Ht)});var tt=R((ge,ot)=>{(function(){var e,t,n,s,a,f,l,u=[].slice,h={}.hasOwnProperty;e=function(){var T,v,E,D,d,w;if(w=arguments[0],d=2<=arguments.length?u.call(arguments,1):[],a(Object.assign))Object.assign.apply(null,arguments);else for(T=0,E=d.length;T<E;T++)if(D=d[T],D!=null)for(v in D)h.call(D,v)&&(w[v]=D[v]);return w},a=function(T){return!!T&&Object.prototype.toString.call(T)==="[object Function]"},f=function(T){var v;return!!T&&((v=typeof T)=="function"||v==="object")},n=function(T){return a(Array.isArray)?Array.isArray(T):Object.prototype.toString.call(T)==="[object Array]"},s=function(T){var v;if(n(T))return!T.length;for(v in T)if(h.call(T,v))return!1;return!0},l=function(T){var v,E;return f(T)&&(E=Object.getPrototypeOf(T))&&(v=E.constructor)&&typeof v=="function"&&v instanceof v&&Function.prototype.toString.call(v)===Function.prototype.toString.call(Object)},t=function(T){return a(T.valueOf)?T.valueOf():T},ot.exports.assign=e,ot.exports.isFunction=a,ot.exports.isObject=f,ot.exports.isArray=n,ot.exports.isEmpty=s,ot.exports.isPlainObject=l,ot.exports.getValue=t}).call(ge)});var $t=R((ye,we)=>{(function(){var e;we.exports=e=function(){function t(){}return t.prototype.hasFeature=function(n,s){return!0},t.prototype.createDocumentType=function(n,s,a){throw new Error("This DOM method is not implemented.")},t.prototype.createDocument=function(n,s,a){throw new Error("This DOM method is not implemented.")},t.prototype.createHTMLDocument=function(n){throw new Error("This DOM method is not implemented.")},t.prototype.getFeature=function(n,s){throw new Error("This DOM method is not implemented.")},t}()}).call(ye)});var Ee=R((Te,De)=>{(function(){var e;De.exports=e=function(){function t(){}return t.prototype.handleError=function(n){throw new Error(n)},t}()}).call(Te)});var ve=R((be,Ne)=>{(function(){var e;Ne.exports=e=function(){function t(n){this.arr=n||[]}return Object.defineProperty(t.prototype,"length",{get:function(){return this.arr.length}}),t.prototype.item=function(n){return this.arr[n]||null},t.prototype.contains=function(n){return this.arr.indexOf(n)!==-1},t}()}).call(be)});var Ae=R((Ie,Oe)=>{(function(){var e,t,n;t=Ee(),n=ve(),Oe.exports=e=function(){function s(){var a;this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new t,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=a=Object.create(this.defaultParams)}return Object.defineProperty(s.prototype,"parameterNames",{get:function(){return new n(Object.keys(this.defaultParams))}}),s.prototype.getParameter=function(a){return this.params.hasOwnProperty(a)?this.params[a]:null},s.prototype.canSetParameter=function(a,f){return!0},s.prototype.setParameter=function(a,f){return f!=null?this.params[a]=f:delete this.params[a]},s}()}).call(Ie)});var j=R((Ce,Se)=>{(function(){Se.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(Ce)});var Gt=R((Fe,Pe)=>{(function(){var e,t,n;e=j(),n=Q(),Pe.exports=t=function(){function s(a,f,l){if(this.parent=a,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),f==null)throw new Error("Missing attribute name. "+this.debugInfo(f));this.name=this.stringify.name(f),this.value=this.stringify.attValue(l),this.type=e.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(s.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(s.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(s.prototype,"textContent",{get:function(){return this.value},set:function(a){return this.value=a||""}}),Object.defineProperty(s.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(s.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(s.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(s.prototype,"specified",{get:function(){return!0}}),s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(a){return this.options.writer.attribute(this,this.options.writer.filterOptions(a))},s.prototype.debugInfo=function(a){return a=a||this.name,a==null?"parent: <"+this.parent.name+">":"attribute: {"+a+"}, parent: <"+this.parent.name+">"},s.prototype.isEqualNode=function(a){return!(a.namespaceURI!==this.namespaceURI||a.prefix!==this.prefix||a.localName!==this.localName||a.value!==this.value)},s}()}).call(Fe)});var yt=R((Le,_e)=>{(function(){var e;_e.exports=e=function(){function t(n){this.nodes=n}return Object.defineProperty(t.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),t.prototype.clone=function(){return this.nodes=null},t.prototype.getNamedItem=function(n){return this.nodes[n]},t.prototype.setNamedItem=function(n){var s;return s=this.nodes[n.nodeName],this.nodes[n.nodeName]=n,s||null},t.prototype.removeNamedItem=function(n){var s;return s=this.nodes[n],delete this.nodes[n],s||null},t.prototype.item=function(n){return this.nodes[Object.keys(this.nodes)[n]]||null},t.prototype.getNamedItemNS=function(n,s){throw new Error("This DOM method is not implemented.")},t.prototype.setNamedItemNS=function(n){throw new Error("This DOM method is not implemented.")},t.prototype.removeNamedItemNS=function(n,s){throw new Error("This DOM method is not implemented.")},t}()}).call(Le)});var wt=R((Me,xe)=>{(function(){var e,t,n,s,a,f,l,u,h,T=function(E,D){for(var d in D)v.call(D,d)&&(E[d]=D[d]);function w(){this.constructor=E}return w.prototype=D.prototype,E.prototype=new w,E.__super__=D.prototype,E},v={}.hasOwnProperty;h=tt(),u=h.isObject,l=h.isFunction,f=h.getValue,a=Q(),e=j(),t=Gt(),s=yt(),xe.exports=n=function(E){T(D,E);function D(d,w,A){var P,I,L,m;if(D.__super__.constructor.call(this,d),w==null)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(w),this.type=e.Element,this.attribs={},this.schemaTypeInfo=null,A!=null&&this.attribute(A),d.type===e.Document&&(this.isRoot=!0,this.documentObject=d,d.rootObject=this,d.children)){for(m=d.children,I=0,L=m.length;I<L;I++)if(P=m[I],P.type===e.DocType){P.name=this.name;break}}}return Object.defineProperty(D.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(D.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(D.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(D.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(D.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(D.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(D.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(D.prototype,"attributes",{get:function(){return(!this.attributeMap||!this.attributeMap.nodes)&&(this.attributeMap=new s(this.attribs)),this.attributeMap}}),D.prototype.clone=function(){var d,w,A,P;A=Object.create(this),A.isRoot&&(A.documentObject=null),A.attribs={},P=this.attribs;for(w in P)v.call(P,w)&&(d=P[w],A.attribs[w]=d.clone());return A.children=[],this.children.forEach(function(I){var L;return L=I.clone(),L.parent=A,A.children.push(L)}),A},D.prototype.attribute=function(d,w){var A,P;if(d!=null&&(d=f(d)),u(d))for(A in d)v.call(d,A)&&(P=d[A],this.attribute(A,P));else l(w)&&(w=w.apply()),this.options.keepNullAttributes&&w==null?this.attribs[d]=new t(this,d,""):w!=null&&(this.attribs[d]=new t(this,d,w));return this},D.prototype.removeAttribute=function(d){var w,A,P;if(d==null)throw new Error("Missing attribute name. "+this.debugInfo());if(d=f(d),Array.isArray(d))for(A=0,P=d.length;A<P;A++)w=d[A],delete this.attribs[w];else delete this.attribs[d];return this},D.prototype.toString=function(d){return this.options.writer.element(this,this.options.writer.filterOptions(d))},D.prototype.att=function(d,w){return this.attribute(d,w)},D.prototype.a=function(d,w){return this.attribute(d,w)},D.prototype.getAttribute=function(d){return this.attribs.hasOwnProperty(d)?this.attribs[d].value:null},D.prototype.setAttribute=function(d,w){throw new Error("This DOM method is not implemented."+this.debugInfo())},D.prototype.getAttributeNode=function(d){return this.attribs.hasOwnProperty(d)?this.attribs[d]:null},D.prototype.setAttributeNode=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},D.prototype.removeAttributeNode=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},D.prototype.getElementsByTagName=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},D.prototype.getAttributeNS=function(d,w){throw new Error("This DOM method is not implemented."+this.debugInfo())},D.prototype.setAttributeNS=function(d,w,A){throw new Error("This DOM method is not implemented."+this.debugInfo())},D.prototype.removeAttributeNS=function(d,w){throw new Error("This DOM method is not implemented."+this.debugInfo())},D.prototype.getAttributeNodeNS=function(d,w){throw new Error("This DOM method is not implemented."+this.debugInfo())},D.prototype.setAttributeNodeNS=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},D.prototype.getElementsByTagNameNS=function(d,w){throw new Error("This DOM method is not implemented."+this.debugInfo())},D.prototype.hasAttribute=function(d){return this.attribs.hasOwnProperty(d)},D.prototype.hasAttributeNS=function(d,w){throw new Error("This DOM method is not implemented."+this.debugInfo())},D.prototype.setIdAttribute=function(d,w){return this.attribs.hasOwnProperty(d)?this.attribs[d].isId:w},D.prototype.setIdAttributeNS=function(d,w,A){throw new Error("This DOM method is not implemented."+this.debugInfo())},D.prototype.setIdAttributeNode=function(d,w){throw new Error("This DOM method is not implemented."+this.debugInfo())},D.prototype.getElementsByTagName=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},D.prototype.getElementsByTagNameNS=function(d,w){throw new Error("This DOM method is not implemented."+this.debugInfo())},D.prototype.getElementsByClassName=function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())},D.prototype.isEqualNode=function(d){var w,A,P;if(!D.__super__.isEqualNode.apply(this,arguments).isEqualNode(d)||d.namespaceURI!==this.namespaceURI||d.prefix!==this.prefix||d.localName!==this.localName||d.attribs.length!==this.attribs.length)return!1;for(w=A=0,P=this.attribs.length-1;0<=P?A<=P:A>=P;w=0<=P?++A:--A)if(!this.attribs[w].isEqualNode(d.attribs[w]))return!1;return!0},D}(a)}).call(Me)});var lt=R((Re,Ue)=>{(function(){var e,t,n=function(a,f){for(var l in f)s.call(f,l)&&(a[l]=f[l]);function u(){this.constructor=a}return u.prototype=f.prototype,a.prototype=new u,a.__super__=f.prototype,a},s={}.hasOwnProperty;t=Q(),Ue.exports=e=function(a){n(f,a);function f(l){f.__super__.constructor.call(this,l),this.value=""}return Object.defineProperty(f.prototype,"data",{get:function(){return this.value},set:function(l){return this.value=l||""}}),Object.defineProperty(f.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(f.prototype,"textContent",{get:function(){return this.value},set:function(l){return this.value=l||""}}),f.prototype.clone=function(){return Object.create(this)},f.prototype.substringData=function(l,u){throw new Error("This DOM method is not implemented."+this.debugInfo())},f.prototype.appendData=function(l){throw new Error("This DOM method is not implemented."+this.debugInfo())},f.prototype.insertData=function(l,u){throw new Error("This DOM method is not implemented."+this.debugInfo())},f.prototype.deleteData=function(l,u){throw new Error("This DOM method is not implemented."+this.debugInfo())},f.prototype.replaceData=function(l,u,h){throw new Error("This DOM method is not implemented."+this.debugInfo())},f.prototype.isEqualNode=function(l){return!(!f.__super__.isEqualNode.apply(this,arguments).isEqualNode(l)||l.data!==this.data)},f}(t)}).call(Re)});var Tt=R((Be,qe)=>{(function(){var e,t,n,s=function(f,l){for(var u in l)a.call(l,u)&&(f[u]=l[u]);function h(){this.constructor=f}return h.prototype=l.prototype,f.prototype=new h,f.__super__=l.prototype,f},a={}.hasOwnProperty;e=j(),n=lt(),qe.exports=t=function(f){s(l,f);function l(u,h){if(l.__super__.constructor.call(this,u),h==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=e.CData,this.value=this.stringify.cdata(h)}return l.prototype.clone=function(){return Object.create(this)},l.prototype.toString=function(u){return this.options.writer.cdata(this,this.options.writer.filterOptions(u))},l}(n)}).call(Be)});var Dt=R((Xe,je)=>{(function(){var e,t,n,s=function(f,l){for(var u in l)a.call(l,u)&&(f[u]=l[u]);function h(){this.constructor=f}return h.prototype=l.prototype,f.prototype=new h,f.__super__=l.prototype,f},a={}.hasOwnProperty;e=j(),t=lt(),je.exports=n=function(f){s(l,f);function l(u,h){if(l.__super__.constructor.call(this,u),h==null)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=e.Comment,this.value=this.stringify.comment(h)}return l.prototype.clone=function(){return Object.create(this)},l.prototype.toString=function(u){return this.options.writer.comment(this,this.options.writer.filterOptions(u))},l}(t)}).call(Xe)});var Et=R((ke,Ve)=>{(function(){var e,t,n,s,a=function(l,u){for(var h in u)f.call(u,h)&&(l[h]=u[h]);function T(){this.constructor=l}return T.prototype=u.prototype,l.prototype=new T,l.__super__=u.prototype,l},f={}.hasOwnProperty;s=tt().isObject,n=Q(),e=j(),Ve.exports=t=function(l){a(u,l);function u(h,T,v,E){var D;u.__super__.constructor.call(this,h),s(T)&&(D=T,T=D.version,v=D.encoding,E=D.standalone),T||(T="1.0"),this.type=e.Declaration,this.version=this.stringify.xmlVersion(T),v!=null&&(this.encoding=this.stringify.xmlEncoding(v)),E!=null&&(this.standalone=this.stringify.xmlStandalone(E))}return u.prototype.toString=function(h){return this.options.writer.declaration(this,this.options.writer.filterOptions(h))},u}(n)}).call(ke)});var bt=R((We,He)=>{(function(){var e,t,n,s=function(f,l){for(var u in l)a.call(l,u)&&(f[u]=l[u]);function h(){this.constructor=f}return h.prototype=l.prototype,f.prototype=new h,f.__super__=l.prototype,f},a={}.hasOwnProperty;n=Q(),e=j(),He.exports=t=function(f){s(l,f);function l(u,h,T,v,E,D){if(l.__super__.constructor.call(this,u),h==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(T==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(h));if(!v)throw new Error("Missing DTD attribute type. "+this.debugInfo(h));if(!E)throw new Error("Missing DTD attribute default. "+this.debugInfo(h));if(E.indexOf("#")!==0&&(E="#"+E),!E.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(h));if(D&&!E.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(h));this.elementName=this.stringify.name(h),this.type=e.AttributeDeclaration,this.attributeName=this.stringify.name(T),this.attributeType=this.stringify.dtdAttType(v),D&&(this.defaultValue=this.stringify.dtdAttDefault(D)),this.defaultValueType=E}return l.prototype.toString=function(u){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(u))},l}(n)}).call(We)});var Nt=R(($e,Ge)=>{(function(){var e,t,n,s,a=function(l,u){for(var h in u)f.call(u,h)&&(l[h]=u[h]);function T(){this.constructor=l}return T.prototype=u.prototype,l.prototype=new T,l.__super__=u.prototype,l},f={}.hasOwnProperty;s=tt().isObject,n=Q(),e=j(),Ge.exports=t=function(l){a(u,l);function u(h,T,v,E){if(u.__super__.constructor.call(this,h),v==null)throw new Error("Missing DTD entity name. "+this.debugInfo(v));if(E==null)throw new Error("Missing DTD entity value. "+this.debugInfo(v));if(this.pe=!!T,this.name=this.stringify.name(v),this.type=e.EntityDeclaration,!s(E))this.value=this.stringify.dtdEntityValue(E),this.internal=!0;else{if(!E.pubID&&!E.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(v));if(E.pubID&&!E.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(v));if(this.internal=!1,E.pubID!=null&&(this.pubID=this.stringify.dtdPubID(E.pubID)),E.sysID!=null&&(this.sysID=this.stringify.dtdSysID(E.sysID)),E.nData!=null&&(this.nData=this.stringify.dtdNData(E.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(v))}}return Object.defineProperty(u.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(u.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(u.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(u.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(u.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(u.prototype,"xmlVersion",{get:function(){return null}}),u.prototype.toString=function(h){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(h))},u}(n)}).call($e)});var vt=R((Ye,ze)=>{(function(){var e,t,n,s=function(f,l){for(var u in l)a.call(l,u)&&(f[u]=l[u]);function h(){this.constructor=f}return h.prototype=l.prototype,f.prototype=new h,f.__super__=l.prototype,f},a={}.hasOwnProperty;n=Q(),e=j(),ze.exports=t=function(f){s(l,f);function l(u,h,T){if(l.__super__.constructor.call(this,u),h==null)throw new Error("Missing DTD element name. "+this.debugInfo());T||(T="(#PCDATA)"),Array.isArray(T)&&(T="("+T.join(",")+")"),this.name=this.stringify.name(h),this.type=e.ElementDeclaration,this.value=this.stringify.dtdElementValue(T)}return l.prototype.toString=function(u){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(u))},l}(n)}).call(Ye)});var It=R((Ke,Qe)=>{(function(){var e,t,n,s=function(f,l){for(var u in l)a.call(l,u)&&(f[u]=l[u]);function h(){this.constructor=f}return h.prototype=l.prototype,f.prototype=new h,f.__super__=l.prototype,f},a={}.hasOwnProperty;n=Q(),e=j(),Qe.exports=t=function(f){s(l,f);function l(u,h,T){if(l.__super__.constructor.call(this,u),h==null)throw new Error("Missing DTD notation name. "+this.debugInfo(h));if(!T.pubID&&!T.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(h));this.name=this.stringify.name(h),this.type=e.NotationDeclaration,T.pubID!=null&&(this.pubID=this.stringify.dtdPubID(T.pubID)),T.sysID!=null&&(this.sysID=this.stringify.dtdSysID(T.sysID))}return Object.defineProperty(l.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(l.prototype,"systemId",{get:function(){return this.sysID}}),l.prototype.toString=function(u){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(u))},l}(n)}).call(Ke)});var Ot=R((Ze,Je)=>{(function(){var e,t,n,s,a,f,l,u,h,T=function(E,D){for(var d in D)v.call(D,d)&&(E[d]=D[d]);function w(){this.constructor=E}return w.prototype=D.prototype,E.prototype=new w,E.__super__=D.prototype,E},v={}.hasOwnProperty;h=tt().isObject,u=Q(),e=j(),t=bt(),s=Nt(),n=vt(),a=It(),l=yt(),Je.exports=f=function(E){T(D,E);function D(d,w,A){var P,I,L,m,o,i;if(D.__super__.constructor.call(this,d),this.type=e.DocType,d.children){for(m=d.children,I=0,L=m.length;I<L;I++)if(P=m[I],P.type===e.Element){this.name=P.name;break}}this.documentObject=d,h(w)&&(o=w,w=o.pubID,A=o.sysID),A==null&&(i=[w,A],A=i[0],w=i[1]),w!=null&&(this.pubID=this.stringify.dtdPubID(w)),A!=null&&(this.sysID=this.stringify.dtdSysID(A))}return Object.defineProperty(D.prototype,"entities",{get:function(){var d,w,A,P,I;for(P={},I=this.children,w=0,A=I.length;w<A;w++)d=I[w],d.type===e.EntityDeclaration&&!d.pe&&(P[d.name]=d);return new l(P)}}),Object.defineProperty(D.prototype,"notations",{get:function(){var d,w,A,P,I;for(P={},I=this.children,w=0,A=I.length;w<A;w++)d=I[w],d.type===e.NotationDeclaration&&(P[d.name]=d);return new l(P)}}),Object.defineProperty(D.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(D.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(D.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),D.prototype.element=function(d,w){var A;return A=new n(this,d,w),this.children.push(A),this},D.prototype.attList=function(d,w,A,P,I){var L;return L=new t(this,d,w,A,P,I),this.children.push(L),this},D.prototype.entity=function(d,w){var A;return A=new s(this,!1,d,w),this.children.push(A),this},D.prototype.pEntity=function(d,w){var A;return A=new s(this,!0,d,w),this.children.push(A),this},D.prototype.notation=function(d,w){var A;return A=new a(this,d,w),this.children.push(A),this},D.prototype.toString=function(d){return this.options.writer.docType(this,this.options.writer.filterOptions(d))},D.prototype.ele=function(d,w){return this.element(d,w)},D.prototype.att=function(d,w,A,P,I){return this.attList(d,w,A,P,I)},D.prototype.ent=function(d,w){return this.entity(d,w)},D.prototype.pent=function(d,w){return this.pEntity(d,w)},D.prototype.not=function(d,w){return this.notation(d,w)},D.prototype.up=function(){return this.root()||this.documentObject},D.prototype.isEqualNode=function(d){return!(!D.__super__.isEqualNode.apply(this,arguments).isEqualNode(d)||d.name!==this.name||d.publicId!==this.publicId||d.systemId!==this.systemId)},D}(u)}).call(Ze)});var At=R((tr,er)=>{(function(){var e,t,n,s=function(f,l){for(var u in l)a.call(l,u)&&(f[u]=l[u]);function h(){this.constructor=f}return h.prototype=l.prototype,f.prototype=new h,f.__super__=l.prototype,f},a={}.hasOwnProperty;e=j(),t=Q(),er.exports=n=function(f){s(l,f);function l(u,h){if(l.__super__.constructor.call(this,u),h==null)throw new Error("Missing raw text. "+this.debugInfo());this.type=e.Raw,this.value=this.stringify.raw(h)}return l.prototype.clone=function(){return Object.create(this)},l.prototype.toString=function(u){return this.options.writer.raw(this,this.options.writer.filterOptions(u))},l}(t)}).call(tr)});var Ct=R((rr,ir)=>{(function(){var e,t,n,s=function(f,l){for(var u in l)a.call(l,u)&&(f[u]=l[u]);function h(){this.constructor=f}return h.prototype=l.prototype,f.prototype=new h,f.__super__=l.prototype,f},a={}.hasOwnProperty;e=j(),t=lt(),ir.exports=n=function(f){s(l,f);function l(u,h){if(l.__super__.constructor.call(this,u),h==null)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=e.Text,this.value=this.stringify.text(h)}return Object.defineProperty(l.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(l.prototype,"wholeText",{get:function(){var u,h,T;for(T="",h=this.previousSibling;h;)T=h.data+T,h=h.previousSibling;for(T+=this.data,u=this.nextSibling;u;)T=T+u.data,u=u.nextSibling;return T}}),l.prototype.clone=function(){return Object.create(this)},l.prototype.toString=function(u){return this.options.writer.text(this,this.options.writer.filterOptions(u))},l.prototype.splitText=function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())},l.prototype.replaceWholeText=function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())},l}(t)}).call(rr)});var St=R((nr,or)=>{(function(){var e,t,n,s=function(f,l){for(var u in l)a.call(l,u)&&(f[u]=l[u]);function h(){this.constructor=f}return h.prototype=l.prototype,f.prototype=new h,f.__super__=l.prototype,f},a={}.hasOwnProperty;e=j(),t=lt(),or.exports=n=function(f){s(l,f);function l(u,h,T){if(l.__super__.constructor.call(this,u),h==null)throw new Error("Missing instruction target. "+this.debugInfo());this.type=e.ProcessingInstruction,this.target=this.stringify.insTarget(h),this.name=this.target,T&&(this.value=this.stringify.insValue(T))}return l.prototype.clone=function(){return Object.create(this)},l.prototype.toString=function(u){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(u))},l.prototype.isEqualNode=function(u){return!(!l.__super__.isEqualNode.apply(this,arguments).isEqualNode(u)||u.target!==this.target)},l}(t)}).call(nr)});var Yt=R((sr,ar)=>{(function(){var e,t,n,s=function(f,l){for(var u in l)a.call(l,u)&&(f[u]=l[u]);function h(){this.constructor=f}return h.prototype=l.prototype,f.prototype=new h,f.__super__=l.prototype,f},a={}.hasOwnProperty;n=Q(),e=j(),ar.exports=t=function(f){s(l,f);function l(u){l.__super__.constructor.call(this,u),this.type=e.Dummy}return l.prototype.clone=function(){return Object.create(this)},l.prototype.toString=function(u){return""},l}(n)}).call(sr)});var lr=R((ur,cr)=>{(function(){var e;cr.exports=e=function(){function t(n){this.nodes=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.nodes.length||0}}),t.prototype.clone=function(){return this.nodes=null},t.prototype.item=function(n){return this.nodes[n]||null},t}()}).call(ur)});var pr=R((hr,fr)=>{(function(){fr.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(hr)});var Q=R((dr,mr)=>{(function(){var e,t,n,s,a,f,l,u,h,T,v,E,D,d,w,A,P,I,L,m={}.hasOwnProperty;L=tt(),I=L.isObject,P=L.isFunction,A=L.isEmpty,w=L.getValue,u=null,n=null,s=null,a=null,f=null,D=null,d=null,E=null,l=null,t=null,v=null,h=null,e=null,mr.exports=T=function(){function o(i){this.parent=i,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,u||(u=wt(),n=Tt(),s=Dt(),a=Et(),f=Ot(),D=At(),d=Ct(),E=St(),l=Yt(),t=j(),v=lr(),h=yt(),e=pr())}return Object.defineProperty(o.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(o.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(o.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(o.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(o.prototype,"childNodes",{get:function(){return(!this.childNodeList||!this.childNodeList.nodes)&&(this.childNodeList=new v(this.children)),this.childNodeList}}),Object.defineProperty(o.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(o.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(o.prototype,"previousSibling",{get:function(){var i;return i=this.parent.children.indexOf(this),this.parent.children[i-1]||null}}),Object.defineProperty(o.prototype,"nextSibling",{get:function(){var i;return i=this.parent.children.indexOf(this),this.parent.children[i+1]||null}}),Object.defineProperty(o.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(o.prototype,"textContent",{get:function(){var i,g,b,p,C;if(this.nodeType===t.Element||this.nodeType===t.DocumentFragment){for(C="",p=this.children,g=0,b=p.length;g<b;g++)i=p[g],i.textContent&&(C+=i.textContent);return C}else return null},set:function(i){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),o.prototype.setParent=function(i){var g,b,p,C,y;for(this.parent=i,i&&(this.options=i.options,this.stringify=i.stringify),C=this.children,y=[],b=0,p=C.length;b<p;b++)g=C[b],y.push(g.setParent(this));return y},o.prototype.element=function(i,g,b){var p,C,y,O,F,_,U,q,x,k,B;if(_=null,g===null&&b==null&&(x=[{},null],g=x[0],b=x[1]),g==null&&(g={}),g=w(g),I(g)||(k=[g,b],b=k[0],g=k[1]),i!=null&&(i=w(i)),Array.isArray(i))for(y=0,U=i.length;y<U;y++)C=i[y],_=this.element(C);else if(P(i))_=this.element(i.apply());else if(I(i)){for(F in i)if(m.call(i,F))if(B=i[F],P(B)&&(B=B.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&F.indexOf(this.stringify.convertAttKey)===0)_=this.attribute(F.substr(this.stringify.convertAttKey.length),B);else if(!this.options.separateArrayItems&&Array.isArray(B)&&A(B))_=this.dummy();else if(I(B)&&A(B))_=this.element(F);else if(!this.options.keepNullNodes&&B==null)_=this.dummy();else if(!this.options.separateArrayItems&&Array.isArray(B))for(O=0,q=B.length;O<q;O++)C=B[O],p={},p[F]=C,_=this.element(p);else I(B)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&F.indexOf(this.stringify.convertTextKey)===0?_=this.element(B):(_=this.element(F),_.element(B)):_=this.element(F,B)}else!this.options.keepNullNodes&&b===null?_=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&i.indexOf(this.stringify.convertTextKey)===0?_=this.text(b):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&i.indexOf(this.stringify.convertCDataKey)===0?_=this.cdata(b):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&i.indexOf(this.stringify.convertCommentKey)===0?_=this.comment(b):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&i.indexOf(this.stringify.convertRawKey)===0?_=this.raw(b):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&i.indexOf(this.stringify.convertPIKey)===0?_=this.instruction(i.substr(this.stringify.convertPIKey.length),b):_=this.node(i,g,b);if(_==null)throw new Error("Could not create any elements with: "+i+". "+this.debugInfo());return _},o.prototype.insertBefore=function(i,g,b){var p,C,y,O,F;if(i!=null&&i.type)return y=i,O=g,y.setParent(this),O?(C=children.indexOf(O),F=children.splice(C),children.push(y),Array.prototype.push.apply(children,F)):children.push(y),y;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(i));return C=this.parent.children.indexOf(this),F=this.parent.children.splice(C),p=this.parent.element(i,g,b),Array.prototype.push.apply(this.parent.children,F),p},o.prototype.insertAfter=function(i,g,b){var p,C,y;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(i));return C=this.parent.children.indexOf(this),y=this.parent.children.splice(C+1),p=this.parent.element(i,g,b),Array.prototype.push.apply(this.parent.children,y),p},o.prototype.remove=function(){var i,g;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return i=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[i,i-i+1].concat(g=[])),this.parent},o.prototype.node=function(i,g,b){var p,C;return i!=null&&(i=w(i)),g||(g={}),g=w(g),I(g)||(C=[g,b],b=C[0],g=C[1]),p=new u(this,i,g),b!=null&&p.text(b),this.children.push(p),p},o.prototype.text=function(i){var g;return I(i)&&this.element(i),g=new d(this,i),this.children.push(g),this},o.prototype.cdata=function(i){var g;return g=new n(this,i),this.children.push(g),this},o.prototype.comment=function(i){var g;return g=new s(this,i),this.children.push(g),this},o.prototype.commentBefore=function(i){var g,b,p;return b=this.parent.children.indexOf(this),p=this.parent.children.splice(b),g=this.parent.comment(i),Array.prototype.push.apply(this.parent.children,p),this},o.prototype.commentAfter=function(i){var g,b,p;return b=this.parent.children.indexOf(this),p=this.parent.children.splice(b+1),g=this.parent.comment(i),Array.prototype.push.apply(this.parent.children,p),this},o.prototype.raw=function(i){var g;return g=new D(this,i),this.children.push(g),this},o.prototype.dummy=function(){var i;return i=new l(this),i},o.prototype.instruction=function(i,g){var b,p,C,y,O;if(i!=null&&(i=w(i)),g!=null&&(g=w(g)),Array.isArray(i))for(y=0,O=i.length;y<O;y++)b=i[y],this.instruction(b);else if(I(i))for(b in i)m.call(i,b)&&(p=i[b],this.instruction(b,p));else P(g)&&(g=g.apply()),C=new E(this,i,g),this.children.push(C);return this},o.prototype.instructionBefore=function(i,g){var b,p,C;return p=this.parent.children.indexOf(this),C=this.parent.children.splice(p),b=this.parent.instruction(i,g),Array.prototype.push.apply(this.parent.children,C),this},o.prototype.instructionAfter=function(i,g){var b,p,C;return p=this.parent.children.indexOf(this),C=this.parent.children.splice(p+1),b=this.parent.instruction(i,g),Array.prototype.push.apply(this.parent.children,C),this},o.prototype.declaration=function(i,g,b){var p,C;return p=this.document(),C=new a(p,i,g,b),p.children.length===0?p.children.unshift(C):p.children[0].type===t.Declaration?p.children[0]=C:p.children.unshift(C),p.root()||p},o.prototype.dtd=function(i,g){var b,p,C,y,O,F,_,U,q,x;for(p=this.document(),C=new f(p,i,g),q=p.children,y=O=0,_=q.length;O<_;y=++O)if(b=q[y],b.type===t.DocType)return p.children[y]=C,C;for(x=p.children,y=F=0,U=x.length;F<U;y=++F)if(b=x[y],b.isRoot)return p.children.splice(y,0,C),C;return p.children.push(C),C},o.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},o.prototype.root=function(){var i;for(i=this;i;){if(i.type===t.Document)return i.rootObject;if(i.isRoot)return i;i=i.parent}},o.prototype.document=function(){var i;for(i=this;i;){if(i.type===t.Document)return i;i=i.parent}},o.prototype.end=function(i){return this.document().end(i)},o.prototype.prev=function(){var i;if(i=this.parent.children.indexOf(this),i<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[i-1]},o.prototype.next=function(){var i;if(i=this.parent.children.indexOf(this),i===-1||i===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[i+1]},o.prototype.importDocument=function(i){var g;return g=i.root().clone(),g.parent=this,g.isRoot=!1,this.children.push(g),this},o.prototype.debugInfo=function(i){var g,b;return i=i||this.name,i==null&&!((g=this.parent)!=null&&g.name)?"":i==null?"parent: <"+this.parent.name+">":(b=this.parent)!=null&&b.name?"node: <"+i+">, parent: <"+this.parent.name+">":"node: <"+i+">"},o.prototype.ele=function(i,g,b){return this.element(i,g,b)},o.prototype.nod=function(i,g,b){return this.node(i,g,b)},o.prototype.txt=function(i){return this.text(i)},o.prototype.dat=function(i){return this.cdata(i)},o.prototype.com=function(i){return this.comment(i)},o.prototype.ins=function(i,g){return this.instruction(i,g)},o.prototype.doc=function(){return this.document()},o.prototype.dec=function(i,g,b){return this.declaration(i,g,b)},o.prototype.e=function(i,g,b){return this.element(i,g,b)},o.prototype.n=function(i,g,b){return this.node(i,g,b)},o.prototype.t=function(i){return this.text(i)},o.prototype.d=function(i){return this.cdata(i)},o.prototype.c=function(i){return this.comment(i)},o.prototype.r=function(i){return this.raw(i)},o.prototype.i=function(i,g){return this.instruction(i,g)},o.prototype.u=function(){return this.up()},o.prototype.importXMLBuilder=function(i){return this.importDocument(i)},o.prototype.replaceChild=function(i,g){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.removeChild=function(i){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.appendChild=function(i){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.hasChildNodes=function(){return this.children.length!==0},o.prototype.cloneNode=function(i){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.isSupported=function(i,g){return!0},o.prototype.hasAttributes=function(){return this.attribs.length!==0},o.prototype.compareDocumentPosition=function(i){var g,b;return g=this,g===i?0:this.document()!==i.document()?(b=e.Disconnected|e.ImplementationSpecific,Math.random()<.5?b|=e.Preceding:b|=e.Following,b):g.isAncestor(i)?e.Contains|e.Preceding:g.isDescendant(i)?e.Contains|e.Following:g.isPreceding(i)?e.Preceding:e.Following},o.prototype.isSameNode=function(i){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.lookupPrefix=function(i){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.isDefaultNamespace=function(i){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.lookupNamespaceURI=function(i){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.isEqualNode=function(i){var g,b,p;if(i.nodeType!==this.nodeType||i.children.length!==this.children.length)return!1;for(g=b=0,p=this.children.length-1;0<=p?b<=p:b>=p;g=0<=p?++b:--b)if(!this.children[g].isEqualNode(i.children[g]))return!1;return!0},o.prototype.getFeature=function(i,g){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.setUserData=function(i,g,b){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.getUserData=function(i){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.contains=function(i){return i?i===this||this.isDescendant(i):!1},o.prototype.isDescendant=function(i){var g,b,p,C,y;for(y=this.children,p=0,C=y.length;p<C;p++)if(g=y[p],i===g||(b=g.isDescendant(i),b))return!0;return!1},o.prototype.isAncestor=function(i){return i.isDescendant(this)},o.prototype.isPreceding=function(i){var g,b;return g=this.treePosition(i),b=this.treePosition(this),g===-1||b===-1?!1:g<b},o.prototype.isFollowing=function(i){var g,b;return g=this.treePosition(i),b=this.treePosition(this),g===-1||b===-1?!1:g>b},o.prototype.treePosition=function(i){var g,b;return b=0,g=!1,this.foreachTreeNode(this.document(),function(p){if(b++,!g&&p===i)return g=!0}),g?b:-1},o.prototype.foreachTreeNode=function(i,g){var b,p,C,y,O;for(i||(i=this.document()),y=i.children,p=0,C=y.length;p<C;p++){if(b=y[p],O=g(b))return O;if(O=this.foreachTreeNode(b,g),O)return O}},o}()}).call(dr)});var zt=R((gr,yr)=>{(function(){var e,t=function(s,a){return function(){return s.apply(a,arguments)}},n={}.hasOwnProperty;yr.exports=e=function(){function s(a){this.assertLegalName=t(this.assertLegalName,this),this.assertLegalChar=t(this.assertLegalChar,this);var f,l,u;a||(a={}),this.options=a,this.options.version||(this.options.version="1.0"),l=a.stringify||{};for(f in l)n.call(l,f)&&(u=l[f],this[f]=u)}return s.prototype.name=function(a){return this.options.noValidation?a:this.assertLegalName(""+a||"")},s.prototype.text=function(a){return this.options.noValidation?a:this.assertLegalChar(this.textEscape(""+a||""))},s.prototype.cdata=function(a){return this.options.noValidation?a:(a=""+a||"",a=a.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(a))},s.prototype.comment=function(a){if(this.options.noValidation)return a;if(a=""+a||"",a.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+a);return this.assertLegalChar(a)},s.prototype.raw=function(a){return this.options.noValidation?a:""+a||""},s.prototype.attValue=function(a){return this.options.noValidation?a:this.assertLegalChar(this.attEscape(a=""+a||""))},s.prototype.insTarget=function(a){return this.options.noValidation?a:this.assertLegalChar(""+a||"")},s.prototype.insValue=function(a){if(this.options.noValidation)return a;if(a=""+a||"",a.match(/\?>/))throw new Error("Invalid processing instruction value: "+a);return this.assertLegalChar(a)},s.prototype.xmlVersion=function(a){if(this.options.noValidation)return a;if(a=""+a||"",!a.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+a);return a},s.prototype.xmlEncoding=function(a){if(this.options.noValidation)return a;if(a=""+a||"",!a.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+a);return this.assertLegalChar(a)},s.prototype.xmlStandalone=function(a){return this.options.noValidation?a:a?"yes":"no"},s.prototype.dtdPubID=function(a){return this.options.noValidation?a:this.assertLegalChar(""+a||"")},s.prototype.dtdSysID=function(a){return this.options.noValidation?a:this.assertLegalChar(""+a||"")},s.prototype.dtdElementValue=function(a){return this.options.noValidation?a:this.assertLegalChar(""+a||"")},s.prototype.dtdAttType=function(a){return this.options.noValidation?a:this.assertLegalChar(""+a||"")},s.prototype.dtdAttDefault=function(a){return this.options.noValidation?a:this.assertLegalChar(""+a||"")},s.prototype.dtdEntityValue=function(a){return this.options.noValidation?a:this.assertLegalChar(""+a||"")},s.prototype.dtdNData=function(a){return this.options.noValidation?a:this.assertLegalChar(""+a||"")},s.prototype.convertAttKey="@",s.prototype.convertPIKey="?",s.prototype.convertTextKey="#text",s.prototype.convertCDataKey="#cdata",s.prototype.convertCommentKey="#comment",s.prototype.convertRawKey="#raw",s.prototype.assertLegalChar=function(a){var f,l;if(this.options.noValidation)return a;if(f="",this.options.version==="1.0"){if(f=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,l=a.match(f))throw new Error("Invalid character in string: "+a+" at index "+l.index)}else if(this.options.version==="1.1"&&(f=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,l=a.match(f)))throw new Error("Invalid character in string: "+a+" at index "+l.index);return a},s.prototype.assertLegalName=function(a){var f;if(this.options.noValidation)return a;if(this.assertLegalChar(a),f=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!a.match(f))throw new Error("Invalid character in name");return a},s.prototype.textEscape=function(a){var f;return this.options.noValidation?a:(f=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,a.replace(f,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},s.prototype.attEscape=function(a){var f;return this.options.noValidation?a:(f=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,a.replace(f,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},s}()}).call(gr)});var ht=R((wr,Tr)=>{(function(){Tr.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(wr)});var Kt=R((Dr,Er)=>{(function(){var e,t,n,s,a,f,l,u,h,T,v,E,D,d,w,A,P,I={}.hasOwnProperty;P=tt().assign,e=j(),h=Et(),T=Ot(),n=Tt(),s=Dt(),E=wt(),d=At(),w=Ct(),D=St(),v=Yt(),a=bt(),f=vt(),l=Nt(),u=It(),t=ht(),Er.exports=A=function(){function L(m){var o,i,g;m||(m={}),this.options=m,i=m.writer||{};for(o in i)I.call(i,o)&&(g=i[o],this["_"+o]=this[o],this[o]=g)}return L.prototype.filterOptions=function(m){var o,i,g,b,p,C,y,O;return m||(m={}),m=P({},this.options,m),o={writer:this},o.pretty=m.pretty||!1,o.allowEmpty=m.allowEmpty||!1,o.indent=(i=m.indent)!=null?i:"  ",o.newline=(g=m.newline)!=null?g:`
`,o.offset=(b=m.offset)!=null?b:0,o.dontPrettyTextNodes=(p=(C=m.dontPrettyTextNodes)!=null?C:m.dontprettytextnodes)!=null?p:0,o.spaceBeforeSlash=(y=(O=m.spaceBeforeSlash)!=null?O:m.spacebeforeslash)!=null?y:"",o.spaceBeforeSlash===!0&&(o.spaceBeforeSlash=" "),o.suppressPrettyCount=0,o.user={},o.state=t.None,o},L.prototype.indent=function(m,o,i){var g;return!o.pretty||o.suppressPrettyCount?"":o.pretty&&(g=(i||0)+o.offset+1,g>0)?new Array(g).join(o.indent):""},L.prototype.endline=function(m,o,i){return!o.pretty||o.suppressPrettyCount?"":o.newline},L.prototype.attribute=function(m,o,i){var g;return this.openAttribute(m,o,i),g=" "+m.name+'="'+m.value+'"',this.closeAttribute(m,o,i),g},L.prototype.cdata=function(m,o,i){var g;return this.openNode(m,o,i),o.state=t.OpenTag,g=this.indent(m,o,i)+"<![CDATA[",o.state=t.InsideTag,g+=m.value,o.state=t.CloseTag,g+="]]>"+this.endline(m,o,i),o.state=t.None,this.closeNode(m,o,i),g},L.prototype.comment=function(m,o,i){var g;return this.openNode(m,o,i),o.state=t.OpenTag,g=this.indent(m,o,i)+"<!-- ",o.state=t.InsideTag,g+=m.value,o.state=t.CloseTag,g+=" -->"+this.endline(m,o,i),o.state=t.None,this.closeNode(m,o,i),g},L.prototype.declaration=function(m,o,i){var g;return this.openNode(m,o,i),o.state=t.OpenTag,g=this.indent(m,o,i)+"<?xml",o.state=t.InsideTag,g+=' version="'+m.version+'"',m.encoding!=null&&(g+=' encoding="'+m.encoding+'"'),m.standalone!=null&&(g+=' standalone="'+m.standalone+'"'),o.state=t.CloseTag,g+=o.spaceBeforeSlash+"?>",g+=this.endline(m,o,i),o.state=t.None,this.closeNode(m,o,i),g},L.prototype.docType=function(m,o,i){var g,b,p,C,y;if(i||(i=0),this.openNode(m,o,i),o.state=t.OpenTag,C=this.indent(m,o,i),C+="<!DOCTYPE "+m.root().name,m.pubID&&m.sysID?C+=' PUBLIC "'+m.pubID+'" "'+m.sysID+'"':m.sysID&&(C+=' SYSTEM "'+m.sysID+'"'),m.children.length>0){for(C+=" [",C+=this.endline(m,o,i),o.state=t.InsideTag,y=m.children,b=0,p=y.length;b<p;b++)g=y[b],C+=this.writeChildNode(g,o,i+1);o.state=t.CloseTag,C+="]"}return o.state=t.CloseTag,C+=o.spaceBeforeSlash+">",C+=this.endline(m,o,i),o.state=t.None,this.closeNode(m,o,i),C},L.prototype.element=function(m,o,i){var g,b,p,C,y,O,F,_,U,q,x,k,B,at;i||(i=0),q=!1,x="",this.openNode(m,o,i),o.state=t.OpenTag,x+=this.indent(m,o,i)+"<"+m.name,k=m.attribs;for(U in k)I.call(k,U)&&(g=k[U],x+=this.attribute(g,o,i));if(p=m.children.length,C=p===0?null:m.children[0],p===0||m.children.every(function(Z){return(Z.type===e.Text||Z.type===e.Raw)&&Z.value===""}))o.allowEmpty?(x+=">",o.state=t.CloseTag,x+="</"+m.name+">"+this.endline(m,o,i)):(o.state=t.CloseTag,x+=o.spaceBeforeSlash+"/>"+this.endline(m,o,i));else if(o.pretty&&p===1&&(C.type===e.Text||C.type===e.Raw)&&C.value!=null)x+=">",o.state=t.InsideTag,o.suppressPrettyCount++,q=!0,x+=this.writeChildNode(C,o,i+1),o.suppressPrettyCount--,q=!1,o.state=t.CloseTag,x+="</"+m.name+">"+this.endline(m,o,i);else{if(o.dontPrettyTextNodes){for(B=m.children,y=0,F=B.length;y<F;y++)if(b=B[y],(b.type===e.Text||b.type===e.Raw)&&b.value!=null){o.suppressPrettyCount++,q=!0;break}}for(x+=">"+this.endline(m,o,i),o.state=t.InsideTag,at=m.children,O=0,_=at.length;O<_;O++)b=at[O],x+=this.writeChildNode(b,o,i+1);o.state=t.CloseTag,x+=this.indent(m,o,i)+"</"+m.name+">",q&&o.suppressPrettyCount--,x+=this.endline(m,o,i),o.state=t.None}return this.closeNode(m,o,i),x},L.prototype.writeChildNode=function(m,o,i){switch(m.type){case e.CData:return this.cdata(m,o,i);case e.Comment:return this.comment(m,o,i);case e.Element:return this.element(m,o,i);case e.Raw:return this.raw(m,o,i);case e.Text:return this.text(m,o,i);case e.ProcessingInstruction:return this.processingInstruction(m,o,i);case e.Dummy:return"";case e.Declaration:return this.declaration(m,o,i);case e.DocType:return this.docType(m,o,i);case e.AttributeDeclaration:return this.dtdAttList(m,o,i);case e.ElementDeclaration:return this.dtdElement(m,o,i);case e.EntityDeclaration:return this.dtdEntity(m,o,i);case e.NotationDeclaration:return this.dtdNotation(m,o,i);default:throw new Error("Unknown XML node type: "+m.constructor.name)}},L.prototype.processingInstruction=function(m,o,i){var g;return this.openNode(m,o,i),o.state=t.OpenTag,g=this.indent(m,o,i)+"<?",o.state=t.InsideTag,g+=m.target,m.value&&(g+=" "+m.value),o.state=t.CloseTag,g+=o.spaceBeforeSlash+"?>",g+=this.endline(m,o,i),o.state=t.None,this.closeNode(m,o,i),g},L.prototype.raw=function(m,o,i){var g;return this.openNode(m,o,i),o.state=t.OpenTag,g=this.indent(m,o,i),o.state=t.InsideTag,g+=m.value,o.state=t.CloseTag,g+=this.endline(m,o,i),o.state=t.None,this.closeNode(m,o,i),g},L.prototype.text=function(m,o,i){var g;return this.openNode(m,o,i),o.state=t.OpenTag,g=this.indent(m,o,i),o.state=t.InsideTag,g+=m.value,o.state=t.CloseTag,g+=this.endline(m,o,i),o.state=t.None,this.closeNode(m,o,i),g},L.prototype.dtdAttList=function(m,o,i){var g;return this.openNode(m,o,i),o.state=t.OpenTag,g=this.indent(m,o,i)+"<!ATTLIST",o.state=t.InsideTag,g+=" "+m.elementName+" "+m.attributeName+" "+m.attributeType,m.defaultValueType!=="#DEFAULT"&&(g+=" "+m.defaultValueType),m.defaultValue&&(g+=' "'+m.defaultValue+'"'),o.state=t.CloseTag,g+=o.spaceBeforeSlash+">"+this.endline(m,o,i),o.state=t.None,this.closeNode(m,o,i),g},L.prototype.dtdElement=function(m,o,i){var g;return this.openNode(m,o,i),o.state=t.OpenTag,g=this.indent(m,o,i)+"<!ELEMENT",o.state=t.InsideTag,g+=" "+m.name+" "+m.value,o.state=t.CloseTag,g+=o.spaceBeforeSlash+">"+this.endline(m,o,i),o.state=t.None,this.closeNode(m,o,i),g},L.prototype.dtdEntity=function(m,o,i){var g;return this.openNode(m,o,i),o.state=t.OpenTag,g=this.indent(m,o,i)+"<!ENTITY",o.state=t.InsideTag,m.pe&&(g+=" %"),g+=" "+m.name,m.value?g+=' "'+m.value+'"':(m.pubID&&m.sysID?g+=' PUBLIC "'+m.pubID+'" "'+m.sysID+'"':m.sysID&&(g+=' SYSTEM "'+m.sysID+'"'),m.nData&&(g+=" NDATA "+m.nData)),o.state=t.CloseTag,g+=o.spaceBeforeSlash+">"+this.endline(m,o,i),o.state=t.None,this.closeNode(m,o,i),g},L.prototype.dtdNotation=function(m,o,i){var g;return this.openNode(m,o,i),o.state=t.OpenTag,g=this.indent(m,o,i)+"<!NOTATION",o.state=t.InsideTag,g+=" "+m.name,m.pubID&&m.sysID?g+=' PUBLIC "'+m.pubID+'" "'+m.sysID+'"':m.pubID?g+=' PUBLIC "'+m.pubID+'"':m.sysID&&(g+=' SYSTEM "'+m.sysID+'"'),o.state=t.CloseTag,g+=o.spaceBeforeSlash+">"+this.endline(m,o,i),o.state=t.None,this.closeNode(m,o,i),g},L.prototype.openNode=function(m,o,i){},L.prototype.closeNode=function(m,o,i){},L.prototype.openAttribute=function(m,o,i){},L.prototype.closeAttribute=function(m,o,i){},L}()}).call(Dr)});var Ft=R((br,Nr)=>{(function(){var e,t,n=function(a,f){for(var l in f)s.call(f,l)&&(a[l]=f[l]);function u(){this.constructor=a}return u.prototype=f.prototype,a.prototype=new u,a.__super__=f.prototype,a},s={}.hasOwnProperty;t=Kt(),Nr.exports=e=function(a){n(f,a);function f(l){f.__super__.constructor.call(this,l)}return f.prototype.document=function(l,u){var h,T,v,E,D;for(u=this.filterOptions(u),E="",D=l.children,T=0,v=D.length;T<v;T++)h=D[T],E+=this.writeChildNode(h,u,0);return u.pretty&&E.slice(-u.newline.length)===u.newline&&(E=E.slice(0,-u.newline.length)),E},f}(t)}).call(br)});var Qt=R((vr,Ir)=>{(function(){var e,t,n,s,a,f,l,u,h=function(v,E){for(var D in E)T.call(E,D)&&(v[D]=E[D]);function d(){this.constructor=v}return d.prototype=E.prototype,v.prototype=new d,v.__super__=E.prototype,v},T={}.hasOwnProperty;u=tt().isPlainObject,n=$t(),t=Ae(),a=Q(),e=j(),l=zt(),f=Ft(),Ir.exports=s=function(v){h(E,v);function E(D){E.__super__.constructor.call(this,null),this.name="#document",this.type=e.Document,this.documentURI=null,this.domConfig=new t,D||(D={}),D.writer||(D.writer=new f),this.options=D,this.stringify=new l(D)}return Object.defineProperty(E.prototype,"implementation",{value:new n}),Object.defineProperty(E.prototype,"doctype",{get:function(){var D,d,w,A;for(A=this.children,d=0,w=A.length;d<w;d++)if(D=A[d],D.type===e.DocType)return D;return null}}),Object.defineProperty(E.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(E.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(E.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(E.prototype,"xmlEncoding",{get:function(){return this.children.length!==0&&this.children[0].type===e.Declaration?this.children[0].encoding:null}}),Object.defineProperty(E.prototype,"xmlStandalone",{get:function(){return this.children.length!==0&&this.children[0].type===e.Declaration?this.children[0].standalone==="yes":!1}}),Object.defineProperty(E.prototype,"xmlVersion",{get:function(){return this.children.length!==0&&this.children[0].type===e.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(E.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(E.prototype,"origin",{get:function(){return null}}),Object.defineProperty(E.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(E.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(E.prototype,"contentType",{get:function(){return null}}),E.prototype.end=function(D){var d;return d={},D?u(D)&&(d=D,D=this.options.writer):D=this.options.writer,D.document(this,D.filterOptions(d))},E.prototype.toString=function(D){return this.options.writer.document(this,this.options.writer.filterOptions(D))},E.prototype.createElement=function(D){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.createTextNode=function(D){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.createComment=function(D){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.createCDATASection=function(D){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.createProcessingInstruction=function(D,d){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.createAttribute=function(D){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.createEntityReference=function(D){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.getElementsByTagName=function(D){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.importNode=function(D,d){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.createElementNS=function(D,d){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.createAttributeNS=function(D,d){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.getElementsByTagNameNS=function(D,d){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.getElementById=function(D){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.adoptNode=function(D){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.renameNode=function(D,d,w){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.getElementsByClassName=function(D){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.createEvent=function(D){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.createNodeIterator=function(D,d,w){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.createTreeWalker=function(D,d,w){throw new Error("This DOM method is not implemented."+this.debugInfo())},E}(a)}).call(vr)});var Cr=R((Or,Ar)=>{(function(){var e,t,n,s,a,f,l,u,h,T,v,E,D,d,w,A,P,I,L,m,o,i,g,b,p={}.hasOwnProperty;b=tt(),i=b.isObject,o=b.isFunction,g=b.isPlainObject,m=b.getValue,e=j(),E=Qt(),d=wt(),s=Tt(),a=Dt(),A=At(),L=Ct(),w=St(),T=Et(),v=Ot(),f=bt(),u=Nt(),l=vt(),h=It(),n=Gt(),I=zt(),P=Ft(),t=ht(),Ar.exports=D=function(){function C(y,O,F){var _;this.name="?xml",this.type=e.Document,y||(y={}),_={},y.writer?g(y.writer)&&(_=y.writer,y.writer=new P):y.writer=new P,this.options=y,this.writer=y.writer,this.writerOptions=this.writer.filterOptions(_),this.stringify=new I(y),this.onDataCallback=O||function(){},this.onEndCallback=F||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return C.prototype.createChildNode=function(y){var O,F,_,U,q,x,k,B;switch(y.type){case e.CData:this.cdata(y.value);break;case e.Comment:this.comment(y.value);break;case e.Element:_={},k=y.attribs;for(F in k)p.call(k,F)&&(O=k[F],_[F]=O.value);this.node(y.name,_);break;case e.Dummy:this.dummy();break;case e.Raw:this.raw(y.value);break;case e.Text:this.text(y.value);break;case e.ProcessingInstruction:this.instruction(y.target,y.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+y.constructor.name)}for(B=y.children,q=0,x=B.length;q<x;q++)U=B[q],this.createChildNode(U),U.type===e.Element&&this.up();return this},C.prototype.dummy=function(){return this},C.prototype.node=function(y,O,F){var _;if(y==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(y));return this.openCurrent(),y=m(y),O==null&&(O={}),O=m(O),i(O)||(_=[O,F],F=_[0],O=_[1]),this.currentNode=new d(this,y,O),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,F!=null&&this.text(F),this},C.prototype.element=function(y,O,F){var _,U,q,x,k,B;if(this.currentNode&&this.currentNode.type===e.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(y)||i(y)||o(y))for(x=this.options.noValidation,this.options.noValidation=!0,B=new E(this.options).element("TEMP_ROOT"),B.element(y),this.options.noValidation=x,k=B.children,U=0,q=k.length;U<q;U++)_=k[U],this.createChildNode(_),_.type===e.Element&&this.up();else this.node(y,O,F);return this},C.prototype.attribute=function(y,O){var F,_;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(y));if(y!=null&&(y=m(y)),i(y))for(F in y)p.call(y,F)&&(_=y[F],this.attribute(F,_));else o(O)&&(O=O.apply()),this.options.keepNullAttributes&&O==null?this.currentNode.attribs[y]=new n(this,y,""):O!=null&&(this.currentNode.attribs[y]=new n(this,y,O));return this},C.prototype.text=function(y){var O;return this.openCurrent(),O=new L(this,y),this.onData(this.writer.text(O,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},C.prototype.cdata=function(y){var O;return this.openCurrent(),O=new s(this,y),this.onData(this.writer.cdata(O,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},C.prototype.comment=function(y){var O;return this.openCurrent(),O=new a(this,y),this.onData(this.writer.comment(O,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},C.prototype.raw=function(y){var O;return this.openCurrent(),O=new A(this,y),this.onData(this.writer.raw(O,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},C.prototype.instruction=function(y,O){var F,_,U,q,x;if(this.openCurrent(),y!=null&&(y=m(y)),O!=null&&(O=m(O)),Array.isArray(y))for(F=0,q=y.length;F<q;F++)_=y[F],this.instruction(_);else if(i(y))for(_ in y)p.call(y,_)&&(U=y[_],this.instruction(_,U));else o(O)&&(O=O.apply()),x=new w(this,y,O),this.onData(this.writer.processingInstruction(x,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},C.prototype.declaration=function(y,O,F){var _;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return _=new T(this,y,O,F),this.onData(this.writer.declaration(_,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},C.prototype.doctype=function(y,O,F){if(this.openCurrent(),y==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new v(this,O,F),this.currentNode.rootNodeName=y,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},C.prototype.dtdElement=function(y,O){var F;return this.openCurrent(),F=new l(this,y,O),this.onData(this.writer.dtdElement(F,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},C.prototype.attList=function(y,O,F,_,U){var q;return this.openCurrent(),q=new f(this,y,O,F,_,U),this.onData(this.writer.dtdAttList(q,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},C.prototype.entity=function(y,O){var F;return this.openCurrent(),F=new u(this,!1,y,O),this.onData(this.writer.dtdEntity(F,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},C.prototype.pEntity=function(y,O){var F;return this.openCurrent(),F=new u(this,!0,y,O),this.onData(this.writer.dtdEntity(F,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},C.prototype.notation=function(y,O){var F;return this.openCurrent(),F=new h(this,y,O),this.onData(this.writer.dtdNotation(F,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},C.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},C.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},C.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},C.prototype.openNode=function(y){var O,F,_,U;if(!y.isOpen){if(!this.root&&this.currentLevel===0&&y.type===e.Element&&(this.root=y),F="",y.type===e.Element){this.writerOptions.state=t.OpenTag,F=this.writer.indent(y,this.writerOptions,this.currentLevel)+"<"+y.name,U=y.attribs;for(_ in U)p.call(U,_)&&(O=U[_],F+=this.writer.attribute(O,this.writerOptions,this.currentLevel));F+=(y.children?">":"/>")+this.writer.endline(y,this.writerOptions,this.currentLevel),this.writerOptions.state=t.InsideTag}else this.writerOptions.state=t.OpenTag,F=this.writer.indent(y,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+y.rootNodeName,y.pubID&&y.sysID?F+=' PUBLIC "'+y.pubID+'" "'+y.sysID+'"':y.sysID&&(F+=' SYSTEM "'+y.sysID+'"'),y.children?(F+=" [",this.writerOptions.state=t.InsideTag):(this.writerOptions.state=t.CloseTag,F+=">"),F+=this.writer.endline(y,this.writerOptions,this.currentLevel);return this.onData(F,this.currentLevel),y.isOpen=!0}},C.prototype.closeNode=function(y){var O;if(!y.isClosed)return O="",this.writerOptions.state=t.CloseTag,y.type===e.Element?O=this.writer.indent(y,this.writerOptions,this.currentLevel)+"</"+y.name+">"+this.writer.endline(y,this.writerOptions,this.currentLevel):O=this.writer.indent(y,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(y,this.writerOptions,this.currentLevel),this.writerOptions.state=t.None,this.onData(O,this.currentLevel),y.isClosed=!0},C.prototype.onData=function(y,O){return this.documentStarted=!0,this.onDataCallback(y,O+1)},C.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},C.prototype.debugInfo=function(y){return y==null?"":"node: <"+y+">"},C.prototype.ele=function(){return this.element.apply(this,arguments)},C.prototype.nod=function(y,O,F){return this.node(y,O,F)},C.prototype.txt=function(y){return this.text(y)},C.prototype.dat=function(y){return this.cdata(y)},C.prototype.com=function(y){return this.comment(y)},C.prototype.ins=function(y,O){return this.instruction(y,O)},C.prototype.dec=function(y,O,F){return this.declaration(y,O,F)},C.prototype.dtd=function(y,O,F){return this.doctype(y,O,F)},C.prototype.e=function(y,O,F){return this.element(y,O,F)},C.prototype.n=function(y,O,F){return this.node(y,O,F)},C.prototype.t=function(y){return this.text(y)},C.prototype.d=function(y){return this.cdata(y)},C.prototype.c=function(y){return this.comment(y)},C.prototype.r=function(y){return this.raw(y)},C.prototype.i=function(y,O){return this.instruction(y,O)},C.prototype.att=function(){return this.currentNode&&this.currentNode.type===e.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},C.prototype.a=function(){return this.currentNode&&this.currentNode.type===e.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},C.prototype.ent=function(y,O){return this.entity(y,O)},C.prototype.pent=function(y,O){return this.pEntity(y,O)},C.prototype.not=function(y,O){return this.notation(y,O)},C}()}).call(Or)});var Pr=R((Sr,Fr)=>{(function(){var e,t,n,s,a=function(l,u){for(var h in u)f.call(u,h)&&(l[h]=u[h]);function T(){this.constructor=l}return T.prototype=u.prototype,l.prototype=new T,l.__super__=u.prototype,l},f={}.hasOwnProperty;e=j(),s=Kt(),t=ht(),Fr.exports=n=function(l){a(u,l);function u(h,T){this.stream=h,u.__super__.constructor.call(this,T)}return u.prototype.endline=function(h,T,v){return h.isLastRootNode&&T.state===t.CloseTag?"":u.__super__.endline.call(this,h,T,v)},u.prototype.document=function(h,T){var v,E,D,d,w,A,P,I,L;for(P=h.children,E=D=0,w=P.length;D<w;E=++D)v=P[E],v.isLastRootNode=E===h.children.length-1;for(T=this.filterOptions(T),I=h.children,L=[],d=0,A=I.length;d<A;d++)v=I[d],L.push(this.writeChildNode(v,T,0));return L},u.prototype.attribute=function(h,T,v){return this.stream.write(u.__super__.attribute.call(this,h,T,v))},u.prototype.cdata=function(h,T,v){return this.stream.write(u.__super__.cdata.call(this,h,T,v))},u.prototype.comment=function(h,T,v){return this.stream.write(u.__super__.comment.call(this,h,T,v))},u.prototype.declaration=function(h,T,v){return this.stream.write(u.__super__.declaration.call(this,h,T,v))},u.prototype.docType=function(h,T,v){var E,D,d,w;if(v||(v=0),this.openNode(h,T,v),T.state=t.OpenTag,this.stream.write(this.indent(h,T,v)),this.stream.write("<!DOCTYPE "+h.root().name),h.pubID&&h.sysID?this.stream.write(' PUBLIC "'+h.pubID+'" "'+h.sysID+'"'):h.sysID&&this.stream.write(' SYSTEM "'+h.sysID+'"'),h.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(h,T,v)),T.state=t.InsideTag,w=h.children,D=0,d=w.length;D<d;D++)E=w[D],this.writeChildNode(E,T,v+1);T.state=t.CloseTag,this.stream.write("]")}return T.state=t.CloseTag,this.stream.write(T.spaceBeforeSlash+">"),this.stream.write(this.endline(h,T,v)),T.state=t.None,this.closeNode(h,T,v)},u.prototype.element=function(h,T,v){var E,D,d,w,A,P,I,L,m,o;v||(v=0),this.openNode(h,T,v),T.state=t.OpenTag,this.stream.write(this.indent(h,T,v)+"<"+h.name),m=h.attribs;for(I in m)f.call(m,I)&&(E=m[I],this.attribute(E,T,v));if(d=h.children.length,w=d===0?null:h.children[0],d===0||h.children.every(function(i){return(i.type===e.Text||i.type===e.Raw)&&i.value===""}))T.allowEmpty?(this.stream.write(">"),T.state=t.CloseTag,this.stream.write("</"+h.name+">")):(T.state=t.CloseTag,this.stream.write(T.spaceBeforeSlash+"/>"));else if(T.pretty&&d===1&&(w.type===e.Text||w.type===e.Raw)&&w.value!=null)this.stream.write(">"),T.state=t.InsideTag,T.suppressPrettyCount++,L=!0,this.writeChildNode(w,T,v+1),T.suppressPrettyCount--,L=!1,T.state=t.CloseTag,this.stream.write("</"+h.name+">");else{for(this.stream.write(">"+this.endline(h,T,v)),T.state=t.InsideTag,o=h.children,A=0,P=o.length;A<P;A++)D=o[A],this.writeChildNode(D,T,v+1);T.state=t.CloseTag,this.stream.write(this.indent(h,T,v)+"</"+h.name+">")}return this.stream.write(this.endline(h,T,v)),T.state=t.None,this.closeNode(h,T,v)},u.prototype.processingInstruction=function(h,T,v){return this.stream.write(u.__super__.processingInstruction.call(this,h,T,v))},u.prototype.raw=function(h,T,v){return this.stream.write(u.__super__.raw.call(this,h,T,v))},u.prototype.text=function(h,T,v){return this.stream.write(u.__super__.text.call(this,h,T,v))},u.prototype.dtdAttList=function(h,T,v){return this.stream.write(u.__super__.dtdAttList.call(this,h,T,v))},u.prototype.dtdElement=function(h,T,v){return this.stream.write(u.__super__.dtdElement.call(this,h,T,v))},u.prototype.dtdEntity=function(h,T,v){return this.stream.write(u.__super__.dtdEntity.call(this,h,T,v))},u.prototype.dtdNotation=function(h,T,v){return this.stream.write(u.__super__.dtdNotation.call(this,h,T,v))},u}(s)}).call(Sr)});var _r=R((Lr,st)=>{(function(){var e,t,n,s,a,f,l,u,h,T;T=tt(),u=T.assign,h=T.isFunction,n=$t(),s=Qt(),a=Cr(),l=Ft(),f=Pr(),e=j(),t=ht(),st.exports.create=function(v,E,D,d){var w,A;if(v==null)throw new Error("Root element needs a name.");return d=u({},E,D,d),w=new s(d),A=w.element(v),d.headless||(w.declaration(d),(d.pubID!=null||d.sysID!=null)&&w.dtd(d)),A},st.exports.begin=function(v,E,D){var d;return h(v)&&(d=[v,E],E=d[0],D=d[1],v={}),E?new a(v,E,D):new s(v)},st.exports.stringWriter=function(v){return new l(v)},st.exports.streamWriter=function(v,E){return new f(v,E)},st.exports.implementation=new n,st.exports.nodeType=e,st.exports.writerState=t}).call(Lr)});var Mr=R(Zt=>{(function(){"use strict";var e,t,n,s,a,f={}.hasOwnProperty;e=_r(),t=gt().defaults,s=function(l){return typeof l=="string"&&(l.indexOf("&")>=0||l.indexOf(">")>=0||l.indexOf("<")>=0)},a=function(l){return"<![CDATA["+n(l)+"]]>"},n=function(l){return l.replace("]]>","]]]]><![CDATA[>")},Zt.Builder=function(){function l(u){var h,T,v;this.options={},T=t["0.2"];for(h in T)f.call(T,h)&&(v=T[h],this.options[h]=v);for(h in u)f.call(u,h)&&(v=u[h],this.options[h]=v)}return l.prototype.buildObject=function(u){var h,T,v,E,D;return h=this.options.attrkey,T=this.options.charkey,Object.keys(u).length===1&&this.options.rootName===t["0.2"].rootName?(D=Object.keys(u)[0],u=u[D]):D=this.options.rootName,v=function(d){return function(w,A){var P,I,L,m,o,i;if(typeof A!="object")d.options.cdata&&s(A)?w.raw(a(A)):w.txt(A);else if(Array.isArray(A)){for(m in A)if(f.call(A,m)){I=A[m];for(o in I)L=I[o],w=v(w.ele(o),L).up()}}else for(o in A)if(f.call(A,o))if(I=A[o],o===h){if(typeof I=="object")for(P in I)i=I[P],w=w.att(P,i)}else if(o===T)d.options.cdata&&s(I)?w=w.raw(a(I)):w=w.txt(I);else if(Array.isArray(I))for(m in I)f.call(I,m)&&(L=I[m],typeof L=="string"?d.options.cdata&&s(L)?w=w.ele(o).raw(a(L)).up():w=w.ele(o,L).up():w=v(w.ele(o),L).up());else typeof I=="object"?w=v(w.ele(o),I).up():typeof I=="string"&&d.options.cdata&&s(I)?w=w.ele(o).raw(a(I)).up():(I==null&&(I=""),w=w.ele(o,I.toString()).up());return w}}(this),E=e.create(D,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),v(E,u).end(this.options.renderOpts)},l}()}).call(Zt)});var xr=R(Pt=>{(function(e){e.parser=function(c,r){return new n(c,r)},e.SAXParser=n,e.SAXStream=T,e.createStream=h,e.MAX_BUFFER_LENGTH=64*1024;var t=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(c,r){if(!(this instanceof n))return new n(c,r);var S=this;a(S),S.q=S.c="",S.bufferCheckPosition=e.MAX_BUFFER_LENGTH,S.opt=r||{},S.opt.lowercase=S.opt.lowercase||S.opt.lowercasetags,S.looseCase=S.opt.lowercase?"toLowerCase":"toUpperCase",S.tags=[],S.closed=S.closedRoot=S.sawRoot=!1,S.tag=S.error=null,S.strict=!!c,S.noscript=!!(c||S.opt.noscript),S.state=p.BEGIN,S.strictEntities=S.opt.strictEntities,S.ENTITIES=S.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),S.attribList=[],S.opt.xmlns&&(S.ns=Object.create(w)),S.opt.unquotedAttributeValues===void 0&&(S.opt.unquotedAttributeValues=!c),S.trackPosition=S.opt.position!==!1,S.trackPosition&&(S.position=S.line=S.column=0),y(S,"onready")}Object.create||(Object.create=function(c){function r(){}r.prototype=c;var S=new r;return S}),Object.keys||(Object.keys=function(c){var r=[];for(var S in c)c.hasOwnProperty(S)&&r.push(S);return r});function s(c){for(var r=Math.max(e.MAX_BUFFER_LENGTH,10),S=0,N=0,X=t.length;N<X;N++){var V=c[t[N]].length;if(V>r)switch(t[N]){case"textNode":F(c);break;case"cdata":O(c,"oncdata",c.cdata),c.cdata="";break;case"script":O(c,"onscript",c.script),c.script="";break;default:U(c,"Max buffer length exceeded: "+t[N])}S=Math.max(S,V)}var W=e.MAX_BUFFER_LENGTH-S;c.bufferCheckPosition=W+c.position}function a(c){for(var r=0,S=t.length;r<S;r++)c[t[r]]=""}function f(c){F(c),c.cdata!==""&&(O(c,"oncdata",c.cdata),c.cdata=""),c.script!==""&&(O(c,"onscript",c.script),c.script="")}n.prototype={end:function(){q(this)},write:ri,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){f(this)}};var l;try{l=require("stream").Stream}catch(c){l=function(){}}l||(l=function(){});var u=e.EVENTS.filter(function(c){return c!=="error"&&c!=="end"});function h(c,r){return new T(c,r)}function T(c,r){if(!(this instanceof T))return new T(c,r);l.apply(this),this._parser=new n(c,r),this.writable=!0,this.readable=!0;var S=this;this._parser.onend=function(){S.emit("end")},this._parser.onerror=function(N){S.emit("error",N),S._parser.error=null},this._decoder=null,u.forEach(function(N){Object.defineProperty(S,"on"+N,{get:function(){return S._parser["on"+N]},set:function(X){if(!X)return S.removeAllListeners(N),S._parser["on"+N]=X,X;S.on(N,X)},enumerable:!0,configurable:!1})})}T.prototype=Object.create(l.prototype,{constructor:{value:T}}),T.prototype.write=function(c){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(c)){if(!this._decoder){var r=require("string_decoder").StringDecoder;this._decoder=new r("utf8")}c=this._decoder.write(c)}return this._parser.write(c.toString()),this.emit("data",c),!0},T.prototype.end=function(c){return c&&c.length&&this.write(c),this._parser.end(),!0},T.prototype.on=function(c,r){var S=this;return!S._parser["on"+c]&&u.indexOf(c)!==-1&&(S._parser["on"+c]=function(){var N=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);N.splice(0,0,c),S.emit.apply(S,N)}),l.prototype.on.call(S,c,r)};var v="[CDATA[",E="DOCTYPE",D="http://www.w3.org/XML/1998/namespace",d="http://www.w3.org/2000/xmlns/",w={xml:D,xmlns:d},A=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,P=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,I=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,L=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function m(c){return c===" "||c===`
`||c==="\r"||c==="	"}function o(c){return c==='"'||c==="'"}function i(c){return c===">"||m(c)}function g(c,r){return c.test(r)}function b(c,r){return!g(c,r)}var p=0;e.STATE={BEGIN:p++,BEGIN_WHITESPACE:p++,TEXT:p++,TEXT_ENTITY:p++,OPEN_WAKA:p++,SGML_DECL:p++,SGML_DECL_QUOTED:p++,DOCTYPE:p++,DOCTYPE_QUOTED:p++,DOCTYPE_DTD:p++,DOCTYPE_DTD_QUOTED:p++,COMMENT_STARTING:p++,COMMENT:p++,COMMENT_ENDING:p++,COMMENT_ENDED:p++,CDATA:p++,CDATA_ENDING:p++,CDATA_ENDING_2:p++,PROC_INST:p++,PROC_INST_BODY:p++,PROC_INST_ENDING:p++,OPEN_TAG:p++,OPEN_TAG_SLASH:p++,ATTRIB:p++,ATTRIB_NAME:p++,ATTRIB_NAME_SAW_WHITE:p++,ATTRIB_VALUE:p++,ATTRIB_VALUE_QUOTED:p++,ATTRIB_VALUE_CLOSED:p++,ATTRIB_VALUE_UNQUOTED:p++,ATTRIB_VALUE_ENTITY_Q:p++,ATTRIB_VALUE_ENTITY_U:p++,CLOSE_TAG:p++,CLOSE_TAG_SAW_WHITE:p++,SCRIPT:p++,SCRIPT_ENDING:p++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(c){var r=e.ENTITIES[c],S=typeof r=="number"?String.fromCharCode(r):r;e.ENTITIES[c]=S});for(var C in e.STATE)e.STATE[e.STATE[C]]=C;p=e.STATE;function y(c,r,S){c[r]&&c[r](S)}function O(c,r,S){c.textNode&&F(c),y(c,r,S)}function F(c){c.textNode=_(c.opt,c.textNode),c.textNode&&y(c,"ontext",c.textNode),c.textNode=""}function _(c,r){return c.trim&&(r=r.trim()),c.normalize&&(r=r.replace(/\s+/g," ")),r}function U(c,r){return F(c),c.trackPosition&&(r+=`
Line: `+c.line+`
Column: `+c.column+`
Char: `+c.c),r=new Error(r),c.error=r,y(c,"onerror",r),c}function q(c){return c.sawRoot&&!c.closedRoot&&x(c,"Unclosed root tag"),c.state!==p.BEGIN&&c.state!==p.BEGIN_WHITESPACE&&c.state!==p.TEXT&&U(c,"Unexpected end"),F(c),c.c="",c.closed=!0,y(c,"onend"),n.call(c,c.strict,c.opt),c}function x(c,r){if(typeof c!="object"||!(c instanceof n))throw new Error("bad call to strictFail");c.strict&&U(c,r)}function k(c){c.strict||(c.tagName=c.tagName[c.looseCase]());var r=c.tags[c.tags.length-1]||c,S=c.tag={name:c.tagName,attributes:{}};c.opt.xmlns&&(S.ns=r.ns),c.attribList.length=0,O(c,"onopentagstart",S)}function B(c,r){var S=c.indexOf(":"),N=S<0?["",c]:c.split(":"),X=N[0],V=N[1];return r&&c==="xmlns"&&(X="xmlns",V=""),{prefix:X,local:V}}function at(c){if(c.strict||(c.attribName=c.attribName[c.looseCase]()),c.attribList.indexOf(c.attribName)!==-1||c.tag.attributes.hasOwnProperty(c.attribName)){c.attribName=c.attribValue="";return}if(c.opt.xmlns){var r=B(c.attribName,!0),S=r.prefix,N=r.local;if(S==="xmlns")if(N==="xml"&&c.attribValue!==D)x(c,"xml: prefix must be bound to "+D+`
Actual: `+c.attribValue);else if(N==="xmlns"&&c.attribValue!==d)x(c,"xmlns: prefix must be bound to "+d+`
Actual: `+c.attribValue);else{var X=c.tag,V=c.tags[c.tags.length-1]||c;X.ns===V.ns&&(X.ns=Object.create(V.ns)),X.ns[N]=c.attribValue}c.attribList.push([c.attribName,c.attribValue])}else c.tag.attributes[c.attribName]=c.attribValue,O(c,"onattribute",{name:c.attribName,value:c.attribValue});c.attribName=c.attribValue=""}function Z(c,r){if(c.opt.xmlns){var S=c.tag,N=B(c.tagName);S.prefix=N.prefix,S.local=N.local,S.uri=S.ns[N.prefix]||"",S.prefix&&!S.uri&&(x(c,"Unbound namespace prefix: "+JSON.stringify(c.tagName)),S.uri=N.prefix);var X=c.tags[c.tags.length-1]||c;S.ns&&X.ns!==S.ns&&Object.keys(S.ns).forEach(function(pe){O(c,"onopennamespace",{prefix:pe,uri:S.ns[pe]})});for(var V=0,W=c.attribList.length;V<W;V++){var Y=c.attribList[V],z=Y[0],ct=Y[1],$=B(z,!0),rt=$.prefix,ii=$.local,fe=rt===""?"":S.ns[rt]||"",Xt={name:z,value:ct,prefix:rt,local:ii,uri:fe};rt&&rt!=="xmlns"&&!fe&&(x(c,"Unbound namespace prefix: "+JSON.stringify(rt)),Xt.uri=rt),c.tag.attributes[z]=Xt,O(c,"onattribute",Xt)}c.attribList.length=0}c.tag.isSelfClosing=!!r,c.sawRoot=!0,c.tags.push(c.tag),O(c,"onopentag",c.tag),r||(!c.noscript&&c.tagName.toLowerCase()==="script"?c.state=p.SCRIPT:c.state=p.TEXT,c.tag=null,c.tagName=""),c.attribName=c.attribValue="",c.attribList.length=0}function qt(c){if(!c.tagName){x(c,"Weird empty close tag."),c.textNode+="</>",c.state=p.TEXT;return}if(c.script){if(c.tagName!=="script"){c.script+="</"+c.tagName+">",c.tagName="",c.state=p.SCRIPT;return}O(c,"onscript",c.script),c.script=""}var r=c.tags.length,S=c.tagName;c.strict||(S=S[c.looseCase]());for(var N=S;r--;){var X=c.tags[r];if(X.name!==N)x(c,"Unexpected close tag");else break}if(r<0){x(c,"Unmatched closing tag: "+c.tagName),c.textNode+="</"+c.tagName+">",c.state=p.TEXT;return}c.tagName=S;for(var V=c.tags.length;V-- >r;){var W=c.tag=c.tags.pop();c.tagName=c.tag.name,O(c,"onclosetag",c.tagName);var Y={};for(var z in W.ns)Y[z]=W.ns[z];var ct=c.tags[c.tags.length-1]||c;c.opt.xmlns&&W.ns!==ct.ns&&Object.keys(W.ns).forEach(function($){var rt=W.ns[$];O(c,"onclosenamespace",{prefix:$,uri:rt})})}r===0&&(c.closedRoot=!0),c.tagName=c.attribValue=c.attribName="",c.attribList.length=0,c.state=p.TEXT}function ei(c){var r=c.entity,S=r.toLowerCase(),N,X="";return c.ENTITIES[r]?c.ENTITIES[r]:c.ENTITIES[S]?c.ENTITIES[S]:(r=S,r.charAt(0)==="#"&&(r.charAt(1)==="x"?(r=r.slice(2),N=parseInt(r,16),X=N.toString(16)):(r=r.slice(1),N=parseInt(r,10),X=N.toString(10))),r=r.replace(/^0+/,""),isNaN(N)||X.toLowerCase()!==r?(x(c,"Invalid character entity"),"&"+c.entity+";"):String.fromCodePoint(N))}function le(c,r){r==="<"?(c.state=p.OPEN_WAKA,c.startTagPosition=c.position):m(r)||(x(c,"Non-whitespace before first tag."),c.textNode=r,c.state=p.TEXT)}function he(c,r){var S="";return r<c.length&&(S=c.charAt(r)),S}function ri(c){var r=this;if(this.error)throw this.error;if(r.closed)return U(r,"Cannot write after close. Assign an onready handler.");if(c===null)return q(r);typeof c=="object"&&(c=c.toString());for(var S=0,N="";N=he(c,S++),r.c=N,!!N;)switch(r.trackPosition&&(r.position++,N===`
`?(r.line++,r.column=0):r.column++),r.state){case p.BEGIN:if(r.state=p.BEGIN_WHITESPACE,N==="\uFEFF")continue;le(r,N);continue;case p.BEGIN_WHITESPACE:le(r,N);continue;case p.TEXT:if(r.sawRoot&&!r.closedRoot){for(var X=S-1;N&&N!=="<"&&N!=="&";)N=he(c,S++),N&&r.trackPosition&&(r.position++,N===`
`?(r.line++,r.column=0):r.column++);r.textNode+=c.substring(X,S-1)}N==="<"&&!(r.sawRoot&&r.closedRoot&&!r.strict)?(r.state=p.OPEN_WAKA,r.startTagPosition=r.position):(!m(N)&&(!r.sawRoot||r.closedRoot)&&x(r,"Text data outside of root node."),N==="&"?r.state=p.TEXT_ENTITY:r.textNode+=N);continue;case p.SCRIPT:N==="<"?r.state=p.SCRIPT_ENDING:r.script+=N;continue;case p.SCRIPT_ENDING:N==="/"?r.state=p.CLOSE_TAG:(r.script+="<"+N,r.state=p.SCRIPT);continue;case p.OPEN_WAKA:if(N==="!")r.state=p.SGML_DECL,r.sgmlDecl="";else if(!m(N))if(g(A,N))r.state=p.OPEN_TAG,r.tagName=N;else if(N==="/")r.state=p.CLOSE_TAG,r.tagName="";else if(N==="?")r.state=p.PROC_INST,r.procInstName=r.procInstBody="";else{if(x(r,"Unencoded <"),r.startTagPosition+1<r.position){var V=r.position-r.startTagPosition;N=new Array(V).join(" ")+N}r.textNode+="<"+N,r.state=p.TEXT}continue;case p.SGML_DECL:if(r.sgmlDecl+N==="--"){r.state=p.COMMENT,r.comment="",r.sgmlDecl="";continue}r.doctype&&r.doctype!==!0&&r.sgmlDecl?(r.state=p.DOCTYPE_DTD,r.doctype+="<!"+r.sgmlDecl+N,r.sgmlDecl=""):(r.sgmlDecl+N).toUpperCase()===v?(O(r,"onopencdata"),r.state=p.CDATA,r.sgmlDecl="",r.cdata=""):(r.sgmlDecl+N).toUpperCase()===E?(r.state=p.DOCTYPE,(r.doctype||r.sawRoot)&&x(r,"Inappropriately located doctype declaration"),r.doctype="",r.sgmlDecl=""):N===">"?(O(r,"onsgmldeclaration",r.sgmlDecl),r.sgmlDecl="",r.state=p.TEXT):(o(N)&&(r.state=p.SGML_DECL_QUOTED),r.sgmlDecl+=N);continue;case p.SGML_DECL_QUOTED:N===r.q&&(r.state=p.SGML_DECL,r.q=""),r.sgmlDecl+=N;continue;case p.DOCTYPE:N===">"?(r.state=p.TEXT,O(r,"ondoctype",r.doctype),r.doctype=!0):(r.doctype+=N,N==="["?r.state=p.DOCTYPE_DTD:o(N)&&(r.state=p.DOCTYPE_QUOTED,r.q=N));continue;case p.DOCTYPE_QUOTED:r.doctype+=N,N===r.q&&(r.q="",r.state=p.DOCTYPE);continue;case p.DOCTYPE_DTD:N==="]"?(r.doctype+=N,r.state=p.DOCTYPE):N==="<"?(r.state=p.OPEN_WAKA,r.startTagPosition=r.position):o(N)?(r.doctype+=N,r.state=p.DOCTYPE_DTD_QUOTED,r.q=N):r.doctype+=N;continue;case p.DOCTYPE_DTD_QUOTED:r.doctype+=N,N===r.q&&(r.state=p.DOCTYPE_DTD,r.q="");continue;case p.COMMENT:N==="-"?r.state=p.COMMENT_ENDING:r.comment+=N;continue;case p.COMMENT_ENDING:N==="-"?(r.state=p.COMMENT_ENDED,r.comment=_(r.opt,r.comment),r.comment&&O(r,"oncomment",r.comment),r.comment=""):(r.comment+="-"+N,r.state=p.COMMENT);continue;case p.COMMENT_ENDED:N!==">"?(x(r,"Malformed comment"),r.comment+="--"+N,r.state=p.COMMENT):r.doctype&&r.doctype!==!0?r.state=p.DOCTYPE_DTD:r.state=p.TEXT;continue;case p.CDATA:N==="]"?r.state=p.CDATA_ENDING:r.cdata+=N;continue;case p.CDATA_ENDING:N==="]"?r.state=p.CDATA_ENDING_2:(r.cdata+="]"+N,r.state=p.CDATA);continue;case p.CDATA_ENDING_2:N===">"?(r.cdata&&O(r,"oncdata",r.cdata),O(r,"onclosecdata"),r.cdata="",r.state=p.TEXT):N==="]"?r.cdata+="]":(r.cdata+="]]"+N,r.state=p.CDATA);continue;case p.PROC_INST:N==="?"?r.state=p.PROC_INST_ENDING:m(N)?r.state=p.PROC_INST_BODY:r.procInstName+=N;continue;case p.PROC_INST_BODY:if(!r.procInstBody&&m(N))continue;N==="?"?r.state=p.PROC_INST_ENDING:r.procInstBody+=N;continue;case p.PROC_INST_ENDING:N===">"?(O(r,"onprocessinginstruction",{name:r.procInstName,body:r.procInstBody}),r.procInstName=r.procInstBody="",r.state=p.TEXT):(r.procInstBody+="?"+N,r.state=p.PROC_INST_BODY);continue;case p.OPEN_TAG:g(P,N)?r.tagName+=N:(k(r),N===">"?Z(r):N==="/"?r.state=p.OPEN_TAG_SLASH:(m(N)||x(r,"Invalid character in tag name"),r.state=p.ATTRIB));continue;case p.OPEN_TAG_SLASH:N===">"?(Z(r,!0),qt(r)):(x(r,"Forward-slash in opening tag not followed by >"),r.state=p.ATTRIB);continue;case p.ATTRIB:if(m(N))continue;N===">"?Z(r):N==="/"?r.state=p.OPEN_TAG_SLASH:g(A,N)?(r.attribName=N,r.attribValue="",r.state=p.ATTRIB_NAME):x(r,"Invalid attribute name");continue;case p.ATTRIB_NAME:N==="="?r.state=p.ATTRIB_VALUE:N===">"?(x(r,"Attribute without value"),r.attribValue=r.attribName,at(r),Z(r)):m(N)?r.state=p.ATTRIB_NAME_SAW_WHITE:g(P,N)?r.attribName+=N:x(r,"Invalid attribute name");continue;case p.ATTRIB_NAME_SAW_WHITE:if(N==="=")r.state=p.ATTRIB_VALUE;else{if(m(N))continue;x(r,"Attribute without value"),r.tag.attributes[r.attribName]="",r.attribValue="",O(r,"onattribute",{name:r.attribName,value:""}),r.attribName="",N===">"?Z(r):g(A,N)?(r.attribName=N,r.state=p.ATTRIB_NAME):(x(r,"Invalid attribute name"),r.state=p.ATTRIB)}continue;case p.ATTRIB_VALUE:if(m(N))continue;o(N)?(r.q=N,r.state=p.ATTRIB_VALUE_QUOTED):(r.opt.unquotedAttributeValues||U(r,"Unquoted attribute value"),r.state=p.ATTRIB_VALUE_UNQUOTED,r.attribValue=N);continue;case p.ATTRIB_VALUE_QUOTED:if(N!==r.q){N==="&"?r.state=p.ATTRIB_VALUE_ENTITY_Q:r.attribValue+=N;continue}at(r),r.q="",r.state=p.ATTRIB_VALUE_CLOSED;continue;case p.ATTRIB_VALUE_CLOSED:m(N)?r.state=p.ATTRIB:N===">"?Z(r):N==="/"?r.state=p.OPEN_TAG_SLASH:g(A,N)?(x(r,"No whitespace between attributes"),r.attribName=N,r.attribValue="",r.state=p.ATTRIB_NAME):x(r,"Invalid attribute name");continue;case p.ATTRIB_VALUE_UNQUOTED:if(!i(N)){N==="&"?r.state=p.ATTRIB_VALUE_ENTITY_U:r.attribValue+=N;continue}at(r),N===">"?Z(r):r.state=p.ATTRIB;continue;case p.CLOSE_TAG:if(r.tagName)N===">"?qt(r):g(P,N)?r.tagName+=N:r.script?(r.script+="</"+r.tagName,r.tagName="",r.state=p.SCRIPT):(m(N)||x(r,"Invalid tagname in closing tag"),r.state=p.CLOSE_TAG_SAW_WHITE);else{if(m(N))continue;b(A,N)?r.script?(r.script+="</"+N,r.state=p.SCRIPT):x(r,"Invalid tagname in closing tag."):r.tagName=N}continue;case p.CLOSE_TAG_SAW_WHITE:if(m(N))continue;N===">"?qt(r):x(r,"Invalid characters in closing tag");continue;case p.TEXT_ENTITY:case p.ATTRIB_VALUE_ENTITY_Q:case p.ATTRIB_VALUE_ENTITY_U:var W,Y;switch(r.state){case p.TEXT_ENTITY:W=p.TEXT,Y="textNode";break;case p.ATTRIB_VALUE_ENTITY_Q:W=p.ATTRIB_VALUE_QUOTED,Y="attribValue";break;case p.ATTRIB_VALUE_ENTITY_U:W=p.ATTRIB_VALUE_UNQUOTED,Y="attribValue";break}if(N===";"){var z=ei(r);r.opt.unparsedEntities&&!Object.values(e.XML_ENTITIES).includes(z)?(r.entity="",r.state=W,r.write(z)):(r[Y]+=z,r.entity="",r.state=W)}else g(r.entity.length?L:I,N)?r.entity+=N:(x(r,"Invalid character in entity name"),r[Y]+="&"+r.entity+N,r.entity="",r.state=W);continue;default:throw new Error(r,"Unknown state: "+r.state)}return r.position>=r.bufferCheckPosition&&s(r),r}String.fromCodePoint||function(){var c=String.fromCharCode,r=Math.floor,S=function(){var N=16384,X=[],V,W,Y=-1,z=arguments.length;if(!z)return"";for(var ct="";++Y<z;){var $=Number(arguments[Y]);if(!isFinite($)||$<0||$>1114111||r($)!==$)throw RangeError("Invalid code point: "+$);$<=65535?X.push($):($-=65536,V=($>>10)+55296,W=$%1024+56320,X.push(V,W)),(Y+1===z||X.length>N)&&(ct+=c.apply(null,X),X.length=0)}return ct};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:S,configurable:!0,writable:!0}):String.fromCodePoint=S}()})(typeof Pt=="undefined"?Pt.sax={}:Pt)});var Rr=R(Jt=>{(function(){"use strict";Jt.stripBOM=function(e){return e[0]==="\uFEFF"?e.substring(1):e}}).call(Jt)});var te=R(ut=>{(function(){"use strict";var e;e=new RegExp(/(?!xmlns)^.*:/),ut.normalize=function(t){return t.toLowerCase()},ut.firstCharLowerCase=function(t){return t.charAt(0).toLowerCase()+t.slice(1)},ut.stripPrefix=function(t){return t.replace(e,"")},ut.parseNumbers=function(t){return isNaN(t)||(t=t%1===0?parseInt(t,10):parseFloat(t)),t},ut.parseBooleans=function(t){return/^(?:true|false)$/i.test(t)&&(t=t.toLowerCase()==="true"),t}}).call(ut)});var Ur=R(it=>{(function(){"use strict";var e,t,n,s,a,f,l,u,h=function(E,D){return function(){return E.apply(D,arguments)}},T=function(E,D){for(var d in D)v.call(D,d)&&(E[d]=D[d]);function w(){this.constructor=E}return w.prototype=D.prototype,E.prototype=new w,E.__super__=D.prototype,E},v={}.hasOwnProperty;l=xr(),n=require("events"),e=Rr(),f=te(),u=require("timers").setImmediate,t=gt().defaults,s=function(E){return typeof E=="object"&&E!=null&&Object.keys(E).length===0},a=function(E,D,d){var w,A,P;for(w=0,A=E.length;w<A;w++)P=E[w],D=P(D,d);return D},it.Parser=function(E){T(D,E);function D(d){this.parseStringPromise=h(this.parseStringPromise,this),this.parseString=h(this.parseString,this),this.reset=h(this.reset,this),this.assignOrPush=h(this.assignOrPush,this),this.processAsync=h(this.processAsync,this);var w,A,P;if(!(this instanceof it.Parser))return new it.Parser(d);this.options={},A=t["0.2"];for(w in A)v.call(A,w)&&(P=A[w],this.options[w]=P);for(w in d)v.call(d,w)&&(P=d[w],this.options[w]=P);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(f.normalize)),this.reset()}return D.prototype.processAsync=function(){var d,w;try{return this.remaining.length<=this.options.chunkSize?(d=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(d),this.saxParser.close()):(d=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(d),u(this.processAsync))}catch(A){if(w=A,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(w)}},D.prototype.assignOrPush=function(d,w,A){return w in d?(d[w]instanceof Array||(d[w]=[d[w]]),d[w].push(A)):this.options.explicitArray?d[w]=[A]:d[w]=A},D.prototype.reset=function(){var d,w,A,P;return this.removeAllListeners(),this.saxParser=l.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(I){return function(L){if(I.saxParser.resume(),!I.saxParser.errThrown)return I.saxParser.errThrown=!0,I.emit("error",L)}}(this),this.saxParser.onend=function(I){return function(){if(!I.saxParser.ended)return I.saxParser.ended=!0,I.emit("end",I.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,P=[],d=this.options.attrkey,w=this.options.charkey,this.saxParser.onopentag=function(I){return function(L){var m,o,i,g,b;if(i=Object.create(null),i[w]="",!I.options.ignoreAttrs){b=L.attributes;for(m in b)v.call(b,m)&&(!(d in i)&&!I.options.mergeAttrs&&(i[d]=Object.create(null)),o=I.options.attrValueProcessors?a(I.options.attrValueProcessors,L.attributes[m],m):L.attributes[m],g=I.options.attrNameProcessors?a(I.options.attrNameProcessors,m):m,I.options.mergeAttrs?I.assignOrPush(i,g,o):i[d][g]=o)}return i["#name"]=I.options.tagNameProcessors?a(I.options.tagNameProcessors,L.name):L.name,I.options.xmlns&&(i[I.options.xmlnskey]={uri:L.uri,local:L.local}),P.push(i)}}(this),this.saxParser.onclosetag=function(I){return function(){var L,m,o,i,g,b,p,C,y,O;if(b=P.pop(),g=b["#name"],(!I.options.explicitChildren||!I.options.preserveChildrenOrder)&&delete b["#name"],b.cdata===!0&&(L=b.cdata,delete b.cdata),y=P[P.length-1],b[w].match(/^\s*$/)&&!L?(m=b[w],delete b[w]):(I.options.trim&&(b[w]=b[w].trim()),I.options.normalize&&(b[w]=b[w].replace(/\s{2,}/g," ").trim()),b[w]=I.options.valueProcessors?a(I.options.valueProcessors,b[w],g):b[w],Object.keys(b).length===1&&w in b&&!I.EXPLICIT_CHARKEY&&(b=b[w])),s(b)&&(typeof I.options.emptyTag=="function"?b=I.options.emptyTag():b=I.options.emptyTag!==""?I.options.emptyTag:m),I.options.validator!=null&&(O="/"+function(){var F,_,U;for(U=[],F=0,_=P.length;F<_;F++)i=P[F],U.push(i["#name"]);return U}().concat(g).join("/"),function(){var F;try{return b=I.options.validator(O,y&&y[g],b)}catch(_){return F=_,I.emit("error",F)}}()),I.options.explicitChildren&&!I.options.mergeAttrs&&typeof b=="object"){if(!I.options.preserveChildrenOrder)i=Object.create(null),I.options.attrkey in b&&(i[I.options.attrkey]=b[I.options.attrkey],delete b[I.options.attrkey]),!I.options.charsAsChildren&&I.options.charkey in b&&(i[I.options.charkey]=b[I.options.charkey],delete b[I.options.charkey]),Object.getOwnPropertyNames(b).length>0&&(i[I.options.childkey]=b),b=i;else if(y){y[I.options.childkey]=y[I.options.childkey]||[],p=Object.create(null);for(o in b)v.call(b,o)&&(p[o]=b[o]);y[I.options.childkey].push(p),delete b["#name"],Object.keys(b).length===1&&w in b&&!I.EXPLICIT_CHARKEY&&(b=b[w])}}return P.length>0?I.assignOrPush(y,g,b):(I.options.explicitRoot&&(C=b,b=Object.create(null),b[g]=C),I.resultObject=b,I.saxParser.ended=!0,I.emit("end",I.resultObject))}}(this),A=function(I){return function(L){var m,o;if(o=P[P.length-1],o)return o[w]+=L,I.options.explicitChildren&&I.options.preserveChildrenOrder&&I.options.charsAsChildren&&(I.options.includeWhiteChars||L.replace(/\\n/g,"").trim()!=="")&&(o[I.options.childkey]=o[I.options.childkey]||[],m={"#name":"__text__"},m[w]=L,I.options.normalize&&(m[w]=m[w].replace(/\s{2,}/g," ").trim()),o[I.options.childkey].push(m)),o}}(this),this.saxParser.ontext=A,this.saxParser.oncdata=function(I){return function(L){var m;if(m=A(L),m)return m.cdata=!0}}(this)},D.prototype.parseString=function(d,w){var A;w!=null&&typeof w=="function"&&(this.on("end",function(P){return this.reset(),w(null,P)}),this.on("error",function(P){return this.reset(),w(P)}));try{return d=d.toString(),d.trim()===""?(this.emit("end",null),!0):(d=e.stripBOM(d),this.options.async?(this.remaining=d,u(this.processAsync),this.saxParser):this.saxParser.write(d).close())}catch(P){if(A=P,this.saxParser.errThrown||this.saxParser.ended){if(this.saxParser.ended)throw A}else return this.emit("error",A),this.saxParser.errThrown=!0}},D.prototype.parseStringPromise=function(d){return new Promise(function(w){return function(A,P){return w.parseString(d,function(I,L){return I?P(I):A(L)})}}(this))},D}(n),it.parseString=function(E,D,d){var w,A,P;return d!=null?(typeof d=="function"&&(w=d),typeof D=="object"&&(A=D)):(typeof D=="function"&&(w=D),A={}),P=new it.Parser(A),P.parseString(E,w)},it.parseStringPromise=function(E,D){var d,w;return typeof D=="object"&&(d=D),w=new it.Parser(d),w.parseStringPromise(E)}}).call(it)});var Br=R(nt=>{(function(){"use strict";var e,t,n,s,a=function(l,u){for(var h in u)f.call(u,h)&&(l[h]=u[h]);function T(){this.constructor=l}return T.prototype=u.prototype,l.prototype=new T,l.__super__=u.prototype,l},f={}.hasOwnProperty;t=gt(),e=Mr(),n=Ur(),s=te(),nt.defaults=t.defaults,nt.processors=s,nt.ValidationError=function(l){a(u,l);function u(h){this.message=h}return u}(Error),nt.Builder=e.Builder,nt.Parser=n.Parser,nt.parseString=n.parseString,nt.parseStringPromise=n.parseStringPromise}).call(nt)});var qi={};ci(qi,{default:()=>Bt});module.exports=hi(qi);var ti=require("obsidian");var me=require("obsidian");var jt={updateRssFeeds:"Update RSS feeds",addRssFeed:"Add RSS feed",updatingRssFeeds:"Updating RSS feeds...",failedToFetchFeed:"Failed to fetch feed: %0",unsupportedFeedFormat:"Unsupported feed format: %0",updatedFeed:"Updated feed: %0",errorUpdatingFeed:"Error updating feed: %0",rssFeedUpdateCompleted:"RSS feed update completed",feedNameRequired:"Feed name is required",feedUrlRequired:"Feed URL is required",addedFeed:"Added feed: %0",rssFolder:"RSS folder",rssFolderDesc:"Folder where RSS articles will be saved",fileNameTemplate:"File name template",fileNameTemplateDesc:"Template for article file names. Variables {{title}} and {{published}} available",contentTemplate:"Content template",contentTemplateDesc:"Template for article content with front matter",availableVariables:"Available variables",varTitle:"Article title",varLink:"Original article URL",varAuthor:"Article author name",varPublishedTime:"Publication date and time",varSavedTime:"Date and time when saved",varImage:"Article image URL",varDescription:"Full article description",varDescriptionShort:"Description (short)",varContent:"Full article content",varTags:"Categories as hashtags",updateInterval:"Update interval",updateIntervalDesc:"How often to check feeds (in minutes, 0 to disable)",includeImages:"Include images",includeImagesDesc:"Include image URLs from feed articles",fetchImageFromLink:"Fetch image from link",fetchImageFromLinkDesc:"If RSS feed has no image, fetch OGP image from article link (may take longer)",imageWidth:"Image width",imageWidthDesc:"Width of images in content (e.g. 50%, 300px)",autoDeleteOldArticles:"Auto-delete old articles",autoDeleteOldArticlesDesc:"Automatically delete articles after a certain period",periodBeforeDeletion:"Period before deletion",periodBeforeDeletionDesc:"Delete articles after this period has elapsed since creation",timeUnit:"Time unit",timeUnitDesc:"Unit for the deletion period",deletionCriteria:"Deletion criteria",deletionCriteriaDesc:"Criteria for deleting articles",addNewFeed:"Add new feed",addNewFeedDesc:"Add a new RSS feed to download",updateFeedsNow:"Update feeds now",updateFeedsNowDesc:"Manually update all enabled RSS feeds",feedName:"Feed name",feedUrl:"Feed URL",customFolderName:"Custom folder name (optional)",customFolderNameDesc:"Subfolder name within RSS folder",customFolderPlaceholder:"Leave empty to use feed name",addFeed:"Add feed",cancel:"Cancel",updateNow:"Update now",rssFeedDownloaderSettings:"RSS feed downloader settings",days:"Days",minutes:"Minutes",publishedDate:"Published date",savedDate:"Saved date"};var fi={updateRssFeeds:"RSS \u30D5\u30A3\u30FC\u30C9\u3092\u66F4\u65B0",addRssFeed:"RSS \u30D5\u30A3\u30FC\u30C9\u3092\u8FFD\u52A0",updatingRssFeeds:"RSS\u30D5\u30A3\u30FC\u30C9\u3092\u66F4\u65B0\u4E2D...",failedToFetchFeed:"\u30D5\u30A3\u30FC\u30C9\u306E\u53D6\u5F97\u306B\u5931\u6557\u3057\u307E\u3057\u305F: %0",unsupportedFeedFormat:"\u30B5\u30DD\u30FC\u30C8\u3055\u308C\u3066\u3044\u306A\u3044\u30D5\u30A3\u30FC\u30C9\u5F62\u5F0F\u3067\u3059: %0",updatedFeed:"\u30D5\u30A3\u30FC\u30C9\u3092\u66F4\u65B0\u3057\u307E\u3057\u305F: %0",errorUpdatingFeed:"\u30D5\u30A3\u30FC\u30C9\u306E\u66F4\u65B0\u4E2D\u306B\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F: %0",rssFeedUpdateCompleted:"RSS\u30D5\u30A3\u30FC\u30C9\u306E\u66F4\u65B0\u304C\u5B8C\u4E86\u3057\u307E\u3057\u305F",feedNameRequired:"\u30D5\u30A3\u30FC\u30C9\u540D\u306F\u5FC5\u9808\u3067\u3059",feedUrlRequired:"\u30D5\u30A3\u30FC\u30C9URL\u306F\u5FC5\u9808\u3067\u3059",addedFeed:"\u30D5\u30A3\u30FC\u30C9\u3092\u8FFD\u52A0\u3057\u307E\u3057\u305F: %0",rssFolder:"RSS\u30D5\u30A9\u30EB\u30C0",rssFolderDesc:"RSS\u306E\u8A18\u4E8B\u304C\u4FDD\u5B58\u3055\u308C\u308B\u30D5\u30A9\u30EB\u30C0",fileNameTemplate:"\u30D5\u30A1\u30A4\u30EB\u540D\u30C6\u30F3\u30D7\u30EC\u30FC\u30C8",fileNameTemplateDesc:"\u8A18\u4E8B\u306E\u30D5\u30A1\u30A4\u30EB\u540D\u306E\u30C6\u30F3\u30D7\u30EC\u30FC\u30C8\u3002{{title}}\u3068{{published}}\u5909\u6570\u304C\u4F7F\u7528\u53EF\u80FD",contentTemplate:"\u30B3\u30F3\u30C6\u30F3\u30C4\u30C6\u30F3\u30D7\u30EC\u30FC\u30C8",contentTemplateDesc:"\u30D5\u30ED\u30F3\u30C8\u30DE\u30BF\u30FC\u4ED8\u304D\u306E\u8A18\u4E8B\u30B3\u30F3\u30C6\u30F3\u30C4\u306E\u30C6\u30F3\u30D7\u30EC\u30FC\u30C8",availableVariables:"\u5229\u7528\u53EF\u80FD\u306A\u5909\u6570",varTitle:"\u8A18\u4E8B\u306E\u30BF\u30A4\u30C8\u30EB",varLink:"\u8A18\u4E8B\u306EURL",varAuthor:"\u8A18\u4E8B\u306E\u8457\u8005\u540D",varPublishedTime:"\u516C\u958B\u65E5\u6642",varSavedTime:"\u4FDD\u5B58\u65E5\u6642",varImage:"\u8A18\u4E8B\u306E\u753B\u50CFURL",varDescription:"\u8A18\u4E8B\u306E\u8AAC\u660E\u6587\uFF08\u5168\u6587\uFF09",varDescriptionShort:"\u8AAC\u660E\u6587\uFF08\u77ED\u7E2E\u7248\uFF09",varContent:"\u8A18\u4E8B\u306E\u672C\u6587",varTags:"\u30AB\u30C6\u30B4\u30EA\u3092\u30CF\u30C3\u30B7\u30E5\u30BF\u30B0\u5316",updateInterval:"\u66F4\u65B0\u9593\u9694",updateIntervalDesc:"\u30D5\u30A3\u30FC\u30C9\u3092\u30C1\u30A7\u30C3\u30AF\u3059\u308B\u983B\u5EA6\uFF08\u5206\u5358\u4F4D\u30010\u3067\u7121\u52B9\uFF09",includeImages:"\u753B\u50CF\u3092\u542B\u3081\u308B",includeImagesDesc:"\u30D5\u30A3\u30FC\u30C9\u8A18\u4E8B\u304B\u3089\u753B\u50CFURL\u3092\u542B\u3081\u308B",fetchImageFromLink:"\u30EA\u30F3\u30AF\u5148\u304B\u3089\u753B\u50CF\u3092\u53D6\u5F97",fetchImageFromLinkDesc:"RSS\u30D5\u30A3\u30FC\u30C9\u306B\u753B\u50CF\u304C\u306A\u3044\u5834\u5408\u3001\u8A18\u4E8B\u306E\u30EA\u30F3\u30AF\u5148\u304B\u3089OGP\u753B\u50CF\u3092\u53D6\u5F97\u3057\u307E\u3059\uFF08\u51E6\u7406\u306B\u6642\u9593\u304C\u304B\u304B\u308A\u307E\u3059\uFF09",imageWidth:"\u753B\u50CF\u306E\u5E45",imageWidthDesc:"\u30B3\u30F3\u30C6\u30F3\u30C4\u5185\u306E\u753B\u50CF\u306E\u5E45\uFF08\u4F8B\uFF1A50%\u3001300px\uFF09",autoDeleteOldArticles:"\u53E4\u3044\u8A18\u4E8B\u3092\u81EA\u52D5\u524A\u9664",autoDeleteOldArticlesDesc:"\u4E00\u5B9A\u671F\u9593\u7D4C\u904E\u3057\u305F\u8A18\u4E8B\u3092\u81EA\u52D5\u7684\u306B\u524A\u9664\u3059\u308B",periodBeforeDeletion:"\u524A\u9664\u307E\u3067\u306E\u671F\u9593",periodBeforeDeletionDesc:"\u4F5C\u6210\u3055\u308C\u3066\u304B\u3089\u7D4C\u904E\u3057\u305F\u5F8C\u306B\u8A18\u4E8B\u3092\u524A\u9664\u3059\u308B",timeUnit:"\u6642\u9593\u5358\u4F4D",timeUnitDesc:"\u524A\u9664\u307E\u3067\u306E\u671F\u9593\u306E\u5358\u4F4D",deletionCriteria:"\u524A\u9664\u57FA\u6E96",deletionCriteriaDesc:"\u8A18\u4E8B\u3092\u524A\u9664\u3059\u308B\u57FA\u6E96",addNewFeed:"\u65B0\u3057\u3044\u30D5\u30A3\u30FC\u30C9\u3092\u8FFD\u52A0",addNewFeedDesc:"\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9\u3059\u308B\u65B0\u3057\u3044RSS\u30D5\u30A3\u30FC\u30C9\u3092\u8FFD\u52A0",updateFeedsNow:"\u4ECA\u3059\u3050\u30D5\u30A3\u30FC\u30C9\u3092\u66F4\u65B0",updateFeedsNowDesc:"\u6709\u52B9\u306A\u3059\u3079\u3066\u306ERSS\u30D5\u30A3\u30FC\u30C9\u3092\u624B\u52D5\u3067\u66F4\u65B0",feedName:"\u30D5\u30A3\u30FC\u30C9\u540D",feedUrl:"\u30D5\u30A3\u30FC\u30C9URL",customFolderName:"\u30AB\u30B9\u30BF\u30E0\u30D5\u30A9\u30EB\u30C0\u540D\uFF08\u30AA\u30D7\u30B7\u30E7\u30F3\uFF09",customFolderNameDesc:"RSS\u30D5\u30A9\u30EB\u30C0\u5185\u306E\u30B5\u30D6\u30D5\u30A9\u30EB\u30C0\u540D",customFolderPlaceholder:"\u30D5\u30A3\u30FC\u30C9\u540D\u3092\u4F7F\u7528\u3059\u308B\u5834\u5408\u306F\u7A7A\u306E\u307E\u307E\u306B\u3057\u3066\u304F\u3060\u3055\u3044",addFeed:"\u30D5\u30A3\u30FC\u30C9\u3092\u8FFD\u52A0",cancel:"\u30AD\u30E3\u30F3\u30BB\u30EB",updateNow:"\u4ECA\u3059\u3050\u66F4\u65B0",rssFeedDownloaderSettings:"RSS\u30D5\u30A3\u30FC\u30C9\u30C0\u30A6\u30F3\u30ED\u30FC\u30C0\u30FC\u8A2D\u5B9A",days:"\u65E5",minutes:"\u5206",publishedDate:"\u516C\u958B\u65E5",savedDate:"\u4FDD\u5B58\u65E5"},kt=fi;var Vt={en:jt,ja:kt,"ja-JP":kt};function M(e,...t){var f,l;let n=me.moment.locale()||window.localStorage.getItem("language")||"en",s=Vt[n]||Vt[n.split("-")[0]]||Vt.en,a=(l=(f=s==null?void 0:s[e])!=null?f:jt[e])!=null?l:e;return a=a.replace(/%(\d+)/g,(u,h)=>{var v;let T=parseInt(h,10);return(v=t[T])!=null?v:""}),a}var Wt=require("obsidian"),dt=class{async fetch(t){let n=await(0,Wt.requestUrl)(t);if(n.status!==200)throw new Error(`Failed to fetch feed: HTTP ${n.status}`);return n.text}async fetchHtml(t){try{let n=await(0,Wt.requestUrl)(t);return n.status!==200?"":n.text}catch(n){return console.error(`Error fetching HTML from ${t}:`,n),""}}};var K=class{static normalizeValue(t){return t?typeof t=="string"?t:typeof t=="object"&&"_"in t?t._:"":""}static normalizeAtomLink(t){if(!t)return"";let n=Array.isArray(t)?t[0]:t;return n?"$"in n&&n.$&&"href"in n.$?n.$.href||"":"href"in n&&n.href||"":""}static normalizeAtomAuthor(t,n){var s;return t?Array.isArray(t)?((s=t[0])==null?void 0:s.name)||n||"":t.name||n||"":n||""}};var mt=class{constructor(t){this.feedFetcher=t}extractFromItem(t){let n=this.extractFromMediaElements(t);if(n)return n;let s=this.extractFromHtmlContent(t);return s||""}extractFromMediaElements(t){if(!("media:content"in t||"media:thumbnail"in t||"enclosure"in t))return"";let n=t;if(n["media:content"]){let s=n["media:content"];if(typeof s=="string")return s;if(s.$&&s.$.url)return s.$.url}if(n["media:thumbnail"]){let s=n["media:thumbnail"];if(typeof s=="string")return s;if(s.$&&s.$.url)return s.$.url}if(n.enclosure){let s=n.enclosure,a="";if(typeof s=="string"?a=s:s.$&&s.$.url&&(a=s.$.url),a&&(this.isImageUrl(a)||typeof s=="object"&&s.$&&s.$.type&&s.$.type.startsWith("image/")))return a}return""}isImageUrl(t){return t.match(/\.(jpg|jpeg|png|gif|webp)(\?|$)/i)!==null||t.includes("cloudinary.com")||t.includes("imgur.com")||t.includes("googleusercontent.com")}extractFromHtmlContent(t){let n="";if("content:encoded"in t)n=t["content:encoded"]||t.description||"";else if("content"in t){let s=t;n=K.normalizeValue(s.content)||K.normalizeValue(s.summary)||""}if(n&&typeof n=="string"){let s=/<img.*?src=["'](.*?)["']/.exec(n);if(s&&s[1])return s[1]}return""}async fetchFromUrl(t){let n=await this.feedFetcher.fetchHtml(t);if(!n)return"";try{let s="",a=/<meta\s+property=["']og:image["']\s+content=["'](.*?)["']/i.exec(n);if(a&&a[1]&&(s=a[1]),!s){let f=/<meta\s+content=["'](.*?)["']\s+property=["']og:image["']/i.exec(n);f&&f[1]&&(s=f[1])}if(!s){let f=/<meta\s+name=["']twitter:image["']\s+content=["'](.*?)["']/i.exec(n);f&&f[1]&&(s=f[1])}if(!s){let f=/<meta\s+content=["'](.*?)["']\s+name=["']twitter:image["']/i.exec(n);f&&f[1]&&(s=f[1])}return s?(s.startsWith("/")&&(s=`${new URL(t).origin}${s}`),s):""}catch(s){return console.error(`[ImageExtractor] Error parsing OGP image from ${t}:`,s),""}}};var et=require("obsidian"),Jr=li(Br());function pi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)n.hasOwnProperty(s)&&(e[s]=n[s])}return e}function ne(e,t){return Array(t+1).join(e)}function di(e){return e.replace(/^\n*/,"")}function mi(e){for(var t=e.length;t>0&&e[t-1]===`
`;)t--;return e.substring(0,t)}var gi=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function oe(e){return se(e,gi)}var jr=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function kr(e){return se(e,jr)}function yi(e){return Wr(e,jr)}var Vr=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function wi(e){return se(e,Vr)}function Ti(e){return Wr(e,Vr)}function se(e,t){return t.indexOf(e.nodeName)>=0}function Wr(e,t){return e.getElementsByTagName&&t.some(function(n){return e.getElementsByTagName(n).length})}var G={};G.paragraph={filter:"p",replacement:function(e){return`

`+e+`

`}};G.lineBreak={filter:"br",replacement:function(e,t,n){return n.br+`
`}};G.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,n){var s=Number(t.nodeName.charAt(1));if(n.headingStyle==="setext"&&s<3){var a=ne(s===1?"=":"-",e.length);return`

`+e+`
`+a+`

`}else return`

`+ne("#",s)+" "+e+`

`}};G.blockquote={filter:"blockquote",replacement:function(e){return e=e.replace(/^\n+|\n+$/g,""),e=e.replace(/^/gm,"> "),`

`+e+`

`}};G.list={filter:["ul","ol"],replacement:function(e,t){var n=t.parentNode;return n.nodeName==="LI"&&n.lastElementChild===t?`
`+e:`

`+e+`

`}};G.listItem={filter:"li",replacement:function(e,t,n){var s=n.bulletListMarker+"   ",a=t.parentNode;if(a.nodeName==="OL"){var f=a.getAttribute("start"),l=Array.prototype.indexOf.call(a.children,t);s=(f?Number(f)+l:l+1)+".  "}return e=e.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
`+" ".repeat(s.length)),s+e+(t.nextSibling&&!/\n$/.test(e)?`
`:"")}};G.indentedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="indented"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,n){return`

    `+t.firstChild.textContent.replace(/\n/g,`
    `)+`

`}};G.fencedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="fenced"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,n){for(var s=t.firstChild.getAttribute("class")||"",a=(s.match(/language-(\S+)/)||[null,""])[1],f=t.firstChild.textContent,l=n.fence.charAt(0),u=3,h=new RegExp("^"+l+"{3,}","gm"),T;T=h.exec(f);)T[0].length>=u&&(u=T[0].length+1);var v=ne(l,u);return`

`+v+a+`
`+f.replace(/\n$/,"")+`
`+v+`

`}};G.horizontalRule={filter:"hr",replacement:function(e,t,n){return`

`+n.hr+`

`}};G.inlineLink={filter:function(e,t){return t.linkStyle==="inlined"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t){var n=t.getAttribute("href");n&&(n=n.replace(/([()])/g,"\\$1"));var s=Lt(t.getAttribute("title"));return s&&(s=' "'+s.replace(/"/g,'\\"')+'"'),"["+e+"]("+n+s+")"}};G.referenceLink={filter:function(e,t){return t.linkStyle==="referenced"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t,n){var s=t.getAttribute("href"),a=Lt(t.getAttribute("title"));a&&(a=' "'+a+'"');var f,l;switch(n.linkReferenceStyle){case"collapsed":f="["+e+"][]",l="["+e+"]: "+s+a;break;case"shortcut":f="["+e+"]",l="["+e+"]: "+s+a;break;default:var u=this.references.length+1;f="["+e+"]["+u+"]",l="["+u+"]: "+s+a}return this.references.push(l),f},references:[],append:function(e){var t="";return this.references.length&&(t=`

`+this.references.join(`
`)+`

`,this.references=[]),t}};G.emphasis={filter:["em","i"],replacement:function(e,t,n){return e.trim()?n.emDelimiter+e+n.emDelimiter:""}};G.strong={filter:["strong","b"],replacement:function(e,t,n){return e.trim()?n.strongDelimiter+e+n.strongDelimiter:""}};G.code={filter:function(e){var t=e.previousSibling||e.nextSibling,n=e.parentNode.nodeName==="PRE"&&!t;return e.nodeName==="CODE"&&!n},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(e)?" ":"",n="`",s=e.match(/`+/gm)||[];s.indexOf(n)!==-1;)n=n+"`";return n+t+e+t+n}};G.image={filter:"img",replacement:function(e,t){var n=Lt(t.getAttribute("alt")),s=t.getAttribute("src")||"",a=Lt(t.getAttribute("title")),f=a?' "'+a+'"':"";return s?"!["+n+"]("+s+f+")":""}};function Lt(e){return e?e.replace(/(\n+\s*)+/g,`
`):""}function Hr(e){this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[];for(var t in e.rules)this.array.push(e.rules[t])}Hr.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){if(e.isBlank)return this.blankRule;var t;return(t=ee(this.array,e,this.options))||(t=ee(this._keep,e,this.options))||(t=ee(this._remove,e,this.options))?t:this.defaultRule},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};function ee(e,t,n){for(var s=0;s<e.length;s++){var a=e[s];if(Di(a,t,n))return a}}function Di(e,t,n){var s=e.filter;if(typeof s=="string"){if(s===t.nodeName.toLowerCase())return!0}else if(Array.isArray(s)){if(s.indexOf(t.nodeName.toLowerCase())>-1)return!0}else if(typeof s=="function"){if(s.call(e,t,n))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function Ei(e){var t=e.element,n=e.isBlock,s=e.isVoid,a=e.isPre||function(E){return E.nodeName==="PRE"};if(!(!t.firstChild||a(t))){for(var f=null,l=!1,u=null,h=qr(u,t,a);h!==t;){if(h.nodeType===3||h.nodeType===4){var T=h.data.replace(/[ \r\n\t]+/g," ");if((!f||/ $/.test(f.data))&&!l&&T[0]===" "&&(T=T.substr(1)),!T){h=re(h);continue}h.data=T,f=h}else if(h.nodeType===1)n(h)||h.nodeName==="BR"?(f&&(f.data=f.data.replace(/ $/,"")),f=null,l=!1):s(h)||a(h)?(f=null,l=!0):f&&(l=!1);else{h=re(h);continue}var v=qr(u,h,a);u=h,h=v}f&&(f.data=f.data.replace(/ $/,""),f.data||re(f))}}function re(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function qr(e,t,n){return e&&e.parentNode===t||n(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}var ae=typeof window!="undefined"?window:{};function bi(){var e=ae.DOMParser,t=!1;try{new e().parseFromString("","text/html")&&(t=!0)}catch(n){}return t}function Ni(){var e=function(){};return vi()?e.prototype.parseFromString=function(t){var n=new window.ActiveXObject("htmlfile");return n.designMode="on",n.open(),n.write(t),n.close(),n}:e.prototype.parseFromString=function(t){var n=document.implementation.createHTMLDocument("");return n.open(),n.write(t),n.close(),n},e}function vi(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch(t){ae.ActiveXObject&&(e=!0)}return e}var Ii=bi()?ae.DOMParser:Ni();function Oi(e,t){var n;if(typeof e=="string"){var s=Ai().parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html");n=s.getElementById("turndown-root")}else n=e.cloneNode(!0);return Ei({element:n,isBlock:oe,isVoid:kr,isPre:t.preformattedCode?Ci:null}),n}var ie;function Ai(){return ie=ie||new Ii,ie}function Ci(e){return e.nodeName==="PRE"||e.nodeName==="CODE"}function Si(e,t){return e.isBlock=oe(e),e.isCode=e.nodeName==="CODE"||e.parentNode.isCode,e.isBlank=Fi(e),e.flankingWhitespace=Pi(e,t),e}function Fi(e){return!kr(e)&&!wi(e)&&/^\s*$/i.test(e.textContent)&&!yi(e)&&!Ti(e)}function Pi(e,t){if(e.isBlock||t.preformattedCode&&e.isCode)return{leading:"",trailing:""};var n=Li(e.textContent);return n.leadingAscii&&Xr("left",e,t)&&(n.leading=n.leadingNonAscii),n.trailingAscii&&Xr("right",e,t)&&(n.trailing=n.trailingNonAscii),{leading:n.leading,trailing:n.trailing}}function Li(e){var t=e.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:t[1],leadingAscii:t[2],leadingNonAscii:t[3],trailing:t[4],trailingNonAscii:t[5],trailingAscii:t[6]}}function Xr(e,t,n){var s,a,f;return e==="left"?(s=t.previousSibling,a=/ $/):(s=t.nextSibling,a=/^ /),s&&(s.nodeType===3?f=a.test(s.nodeValue):n.preformattedCode&&s.nodeName==="CODE"?f=!1:s.nodeType===1&&!oe(s)&&(f=a.test(s.textContent))),f}var _i=Array.prototype.reduce,Mi=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function _t(e){if(!(this instanceof _t))return new _t(e);var t={rules:G,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(n,s){return s.isBlock?`

`:""},keepReplacement:function(n,s){return s.isBlock?`

`+s.outerHTML+`

`:s.outerHTML},defaultReplacement:function(n,s){return s.isBlock?`

`+n+`

`:n}};this.options=pi({},t,e),this.rules=new Hr(this.options)}_t.prototype={turndown:function(e){if(!Ui(e))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(e==="")return"";var t=$r.call(this,new Oi(e,this.options));return xi.call(this,t)},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else if(typeof e=="function")e(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return Mi.reduce(function(t,n){return t.replace(n[0],n[1])},e)}};function $r(e){var t=this;return _i.call(e.childNodes,function(n,s){s=new Si(s,t.options);var a="";return s.nodeType===3?a=s.isCode?s.nodeValue:t.escape(s.nodeValue):s.nodeType===1&&(a=Ri.call(t,s)),Gr(n,a)},"")}function xi(e){var t=this;return this.rules.forEach(function(n){typeof n.append=="function"&&(e=Gr(e,n.append(t.options)))}),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function Ri(e){var t=this.rules.forNode(e),n=$r.call(this,e),s=e.flankingWhitespace;return(s.leading||s.trailing)&&(n=n.trim()),s.leading+t.replacement(n,e,this.options)+s.trailing}function Gr(e,t){var n=mi(e),s=di(t),a=Math.max(e.length-n.length,t.length-s.length),f=`

`.substring(0,a);return n+f+s}function Ui(e){return e!=null&&(typeof e=="string"||e.nodeType&&(e.nodeType===1||e.nodeType===9||e.nodeType===11))}var Yr=_t;var zr=new Yr({headingStyle:"atx",codeBlockStyle:"fenced",bulletListMarker:"-"});zr.addRule("removeScripts",{filter:["script","style"],replacement:()=>""});function ue(e,t){if(!e)return"";if(typeof e!="string")return console.warn("stripHtml: received non-string input",e),"";let a=new DOMParser().parseFromString(e,"text/html").body.textContent||"";return a=a.replace(/\s+/g," ").trim(),t&&a.length>t&&(a=a.substring(0,t)+"..."),a}function Kr(e){if(!e)return"";if(typeof e!="string")return console.warn("htmlToMarkdown: received non-string input",e),"";let t=e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"");return zr.turndown(t)}var Bi=/[[\]{}:>|*&!%@,]/;function ft(e){let t=e.replace(/\r?\n/g," ").trim();return Bi.test(t)?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:t}function Qr(e,t){let n=e;return t.imageUrl||(n=n.replace(/^.*{{image}}.*\n?/gm,"")),n}function Zr(e,t){return e.replace(/{{title}}/g,t.title).replace(/{{link}}/g,t.link).replace(/{{author}}/g,t.author).replace(/{{publishedTime}}/g,t.publishedTime).replace(/{{savedTime}}/g,t.savedTime).replace(/{{image}}/g,t.image).replace(/{{description}}/g,t.description).replace(/{{descriptionShort}}/g,t.descriptionShort).replace(/{{#tags}}/g,t.tags).replace(/{{content}}/g,t.content)}var xt=require("obsidian"),Mt=class{constructor(t,n,s,a){this.vault=t;this.settings=n;this.feedFetcher=s;this.imageExtractor=a}async execute(){new et.Notice(M("updatingRssFeeds"));let t=this.settings.folderPath;this.vault.getAbstractFileByPath(t)||await this.vault.createFolder(t);for(let s of this.settings.feeds.filter(a=>a.enabled))try{await this.updateFeed(s,t),new et.Notice(M("updatedFeed",s.name))}catch(a){console.error(`Error updating feed ${s.name}:`,a),new et.Notice(M("errorUpdatingFeed",s.name))}new et.Notice(M("rssFeedUpdateCompleted"))}async updateFeed(t,n){var v;let s=await this.feedFetcher.fetch(t.url),f=await new Jr.Parser({explicitArray:!1}).parseStringPromise(s),l=`${n}/${t.folder||t.name}`;this.vault.getAbstractFileByPath(l)||await this.vault.createFolder(l);let h=(v=f.rss)==null?void 0:v.channel;if(!h){let E=f.feed;if(E&&E.entry){let D=Array.isArray(E.entry)?E.entry:[E.entry];for(let d of D)await this.processAtomItem(d,E,t,l)}else new et.Notice(M("unsupportedFeedFormat",t.name));return}let T=Array.isArray(h.item)?h.item:[h.item];for(let E of T)await this.processRssItem(E,t,l);this.settings.autoDeleteEnabled&&await this.deleteOldFiles(l)}async deleteOldFiles(t){try{let n=this.vault.getAbstractFileByPath(t);if(!n||!(n instanceof et.TFolder))return;let s=n.children.filter(f=>f instanceof et.TFile&&f.extension==="md"),a;this.settings.autoDeleteTimeUnit==="minutes"?a=Date.now()-this.settings.autoDeleteDays*60*1e3:a=Date.now()-this.settings.autoDeleteDays*24*60*60*1e3;for(let f of s)try{let l=await this.vault.read(f);if(this.settings.autoDeleteBasedOn==="publish_date"){let u=l.match(/publish_date: (.*?)$/m);if(u&&u[1]){let h=new Date(u[1]).getTime();h&&h<a&&await this.vault.delete(f)}}else{let u=l.match(/saved: (.*?)$/m);if(u&&u[1]){let h=new Date(u[1]).getTime();h&&h<a&&await this.vault.delete(f)}else f.stat.ctime<a&&await this.vault.delete(f)}}catch(l){console.error(`Error processing file: ${f.path}`,l)}}catch(n){console.error("Error deleting old files:",n)}}async processRssItem(t,n,s){let a={title:t.title||"Untitled",description:ue(t.description||"",200),content:t["content:encoded"]||t.description||"",link:t.link||"",pubDate:t.pubDate||t.published||new Date().toISOString(),author:t.author||t["dc:creator"]||n.name,categories:this.normalizeCategories(t.category),imageUrl:"",savedDate:new Date().toISOString()};this.settings.includeImages&&(a.imageUrl=this.imageExtractor.extractFromItem(t),!a.imageUrl&&this.settings.fetchImageFromLink&&a.link&&(a.imageUrl=await this.imageExtractor.fetchFromUrl(a.link))),await this.saveRssItem(a,s)}async processAtomItem(t,n,s,a){let f=K.normalizeValue(t.title),l=K.normalizeValue(t.summary),u=K.normalizeValue(t.content),h=K.normalizeAtomLink(t.link),T=K.normalizeAtomAuthor(t.author,K.normalizeValue(n.title)),v={title:f||"Untitled",description:ue(l,200),content:u||l,link:h,pubDate:t.published||t.updated||new Date().toISOString(),author:T,categories:this.normalizeCategories(t.category),imageUrl:"",savedDate:new Date().toISOString()};this.settings.includeImages&&(v.imageUrl=this.imageExtractor.extractFromItem(t),!v.imageUrl&&this.settings.fetchImageFromLink&&v.link&&(v.imageUrl=await this.imageExtractor.fetchFromUrl(v.link))),await this.saveRssItem(v,a)}async saveRssItem(t,n){let s=this.settings.fileNameTemplate.replace(/{{title}}/g,t.title).replace(/{{published}}/g,this.formatDateTime(new Date(t.pubDate)));if(s=s.replace(/[\\/:*?"<>|]/g,"-"),s=(0,xt.normalizePath)(`${n}/${s}.md`),this.vault.getAbstractFileByPath(s))return;let f=new Date(t.pubDate),l=this.formatDateTime(f),u=new Date(t.savedDate),h=this.formatDateTime(u),T=ft(K.normalizeValue(t.title)),v=ft(K.normalizeValue(t.author)),E=t.description.replace(/\r?\n/g," ").trim(),D=E.substring(0,50)+(E.length>50?"...":""),d=ft(E),w=ft(D),A=t.content;this.settings.imageWidth&&this.settings.imageWidth!=="100%"&&(A=this.resizeImagesInContent(A)),A=Kr(A);let P=Qr(this.settings.template,t),I=Zr(P,{title:T,link:t.link,author:v,publishedTime:l,savedTime:h,image:t.imageUrl,description:d,descriptionShort:w,tags:t.categories.map(L=>`#${L}`).join(" "),content:A});await this.vault.create(s,I)}normalizeCategories(t){return t?(Array.isArray(t)?t:[t]).map(s=>this.extractCategoryText(s)).filter(s=>s.length>0):[]}extractCategoryText(t){if(t==null)return"";if(typeof t=="string")return t.trim();if(typeof t=="object"){let n=t;if(typeof n._=="string")return n._.trim();if(typeof n.term=="string")return n.term.trim()}return""}formatDateTime(t){let n=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0"),f=String(t.getHours()).padStart(2,"0"),l=String(t.getMinutes()).padStart(2,"0"),u=String(t.getSeconds()).padStart(2,"0");return`${n}-${s}-${a} ${f}:${l}:${u}`}resizeImagesInContent(t){if(!t)return t;if(typeof t!="string")return console.warn("resizeImagesInContent: received non-string input",t),"";let n=(0,xt.sanitizeHTMLToDom)(t),s=createDiv();return s.appendChild(n),s.querySelectorAll("img").forEach(f=>{!f.hasAttribute("width")&&!f.hasAttribute("style")&&f.setAttribute("width",this.settings.imageWidth)}),s.innerHTML}};var H=require("obsidian");var J=require("obsidian");var Rt=class extends J.Modal{constructor(n,s,a){super(n);this.settings=s,this.onSave=a}onOpen(){let{contentEl:n}=this;new J.Setting(n).setName(M("feedName")).addText(s=>{this.nameInput=s.inputEl,s.setPlaceholder("My Feed")}),new J.Setting(n).setName(M("feedUrl")).addText(s=>{this.urlInput=s.inputEl,s.setPlaceholder("https://example.com/feed.xml")}),new J.Setting(n).setName(M("customFolderName")).setDesc(M("customFolderNameDesc")).addText(s=>{this.folderInput=s.inputEl,s.setPlaceholder(M("customFolderPlaceholder"))}),new J.Setting(n).addButton(s=>{s.setButtonText(M("addFeed")).setCta().onClick(async()=>{let a=this.nameInput.value.trim(),f=this.urlInput.value.trim(),l=this.folderInput.value.trim();if(!a){new J.Notice(M("feedNameRequired"));return}if(!f){new J.Notice(M("feedUrlRequired"));return}this.settings.feeds.push({name:a,url:f,folder:l,enabled:!0}),await this.onSave(),new J.Notice(M("addedFeed",a)),this.close()})}).addButton(s=>{s.setButtonText(M("cancel")).onClick(()=>{this.close()})})}onClose(){let{contentEl:n}=this;n.empty()}};var Ut=class extends H.PluginSettingTab{constructor(n,s,a,f,l,u){super(n,s);this.settings=a,this.onSaveSettings=f,this.onUpdateFeeds=l,this.onStartUpdateInterval=u}display(){let{containerEl:n}=this;n.empty(),n.addClass("local-rss-settings"),new H.Setting(n).setName(M("rssFolder")).setDesc(M("rssFolderDesc")).addText(u=>u.setPlaceholder("RSS").setValue(this.settings.folderPath).onChange(async h=>{this.settings.folderPath=h,await this.onSaveSettings()})),new H.Setting(n).setName(M("fileNameTemplate")).setDesc(M("fileNameTemplateDesc")).addText(u=>u.setPlaceholder("{{title}}").setValue(this.settings.fileNameTemplate).onChange(async h=>{this.settings.fileNameTemplate=h,await this.onSaveSettings()}));let s=new H.Setting(n).setName(M("contentTemplate")).setDesc(M("contentTemplateDesc")).addTextArea(u=>(u.setPlaceholder(`---
title: {{title}}
---

{{content}}`).setValue(this.settings.template).onChange(async h=>{this.settings.template=h,await this.onSaveSettings()}),u.inputEl.addClass("local-rss-template-textarea"),u));s.settingEl.addClass("local-rss-template-setting");let a=s.controlEl.createDiv("local-rss-variables");a.createEl("div",{text:M("availableVariables"),cls:"local-rss-variables-title"});let f=a.createEl("div",{cls:"local-rss-variables-list"});[{var:"{{title}}",desc:M("varTitle")},{var:"{{link}}",desc:M("varLink")},{var:"{{author}}",desc:M("varAuthor")},{var:"{{publishedTime}}",desc:M("varPublishedTime")},{var:"{{savedTime}}",desc:M("varSavedTime")},{var:"{{image}}",desc:M("varImage")},{var:"{{description}}",desc:M("varDescription")},{var:"{{descriptionShort}}",desc:M("varDescriptionShort")},{var:"{{content}}",desc:M("varContent")},{var:"{{#tags}}",desc:M("varTags")}].forEach(u=>{let h=f.createEl("div",{cls:"local-rss-variable-item"});h.createEl("code",{text:u.var}),h.createEl("span",{text:` - ${u.desc}`,cls:"local-rss-variable-desc"})}),new H.Setting(n).setName(M("updateInterval")).setDesc(M("updateIntervalDesc")).addText(u=>u.setPlaceholder("60").setValue(String(this.settings.updateInterval)).onChange(async h=>{let T=parseInt(h);!isNaN(T)&&T>=0&&(this.settings.updateInterval=T,await this.onSaveSettings(),this.onStartUpdateInterval())})),new H.Setting(n).setName(M("includeImages")).setDesc(M("includeImagesDesc")).addToggle(u=>u.setValue(this.settings.includeImages).onChange(async h=>{this.settings.includeImages=h,await this.onSaveSettings()})),new H.Setting(n).setName(M("fetchImageFromLink")).setDesc(M("fetchImageFromLinkDesc")).addToggle(u=>u.setValue(this.settings.fetchImageFromLink).onChange(async h=>{this.settings.fetchImageFromLink=h,await this.onSaveSettings()})),new H.Setting(n).setName(M("imageWidth")).setDesc(M("imageWidthDesc")).addText(u=>u.setPlaceholder("50%").setValue(this.settings.imageWidth).onChange(async h=>{this.settings.imageWidth=h,await this.onSaveSettings()})),new H.Setting(n).setName(M("autoDeleteOldArticles")).setDesc(M("autoDeleteOldArticlesDesc")).addToggle(u=>u.setValue(this.settings.autoDeleteEnabled).onChange(async h=>{this.settings.autoDeleteEnabled=h,await this.onSaveSettings()})),new H.Setting(n).setName(M("periodBeforeDeletion")).setDesc(M("periodBeforeDeletionDesc")).addText(u=>u.setPlaceholder("30").setValue(String(this.settings.autoDeleteDays)).onChange(async h=>{let T=parseInt(h);!isNaN(T)&&T>0&&(this.settings.autoDeleteDays=T,await this.onSaveSettings())})),new H.Setting(n).setName(M("timeUnit")).setDesc(M("timeUnitDesc")).addDropdown(u=>u.addOption("days",M("days")).addOption("minutes",M("minutes")).setValue(this.settings.autoDeleteTimeUnit).onChange(async h=>{this.settings.autoDeleteTimeUnit=h,await this.onSaveSettings()})),new H.Setting(n).setName(M("deletionCriteria")).setDesc(M("deletionCriteriaDesc")).addDropdown(u=>u.addOption("publish_date",M("publishedDate")).addOption("saved",M("savedDate")).setValue(this.settings.autoDeleteBasedOn).onChange(async h=>{this.settings.autoDeleteBasedOn=h,await this.onSaveSettings()})),new H.Setting(n).setName(M("updateRssFeeds")).setHeading(),this.settings.feeds.forEach((u,h)=>{let T=new H.Setting(n).setName(u.name).setDesc(u.url);T.addToggle(v=>v.setValue(u.enabled).onChange(async E=>{this.settings.feeds[h].enabled=E,await this.onSaveSettings()})),T.addButton(v=>v.setIcon("trash").setTooltip(M("cancel")).onClick(async()=>{this.settings.feeds.splice(h,1),await this.onSaveSettings(),this.display()}))}),new H.Setting(n).setName(M("addNewFeed")).setDesc(M("addNewFeedDesc")).addButton(u=>u.setButtonText(M("addFeed")).setCta().onClick(()=>{new Rt(this.app,this.settings,this.onSaveSettings).open()})),new H.Setting(n).setName(M("updateFeedsNow")).setDesc(M("updateFeedsNowDesc")).addButton(u=>u.setButtonText(M("updateNow")).setCta().onClick(()=>{this.onUpdateFeeds()}))}};var ce={feeds:[],folderPath:"RSS",template:`---
title: {{title}}
link: {{link}}
author: {{author}}
publish_date: {{publishedTime}}
saved_date: {{savedTime}}
image: {{image}}
tags: {{#tags}}
---

![image]({{image}})

{{content}}`,fileNameTemplate:"{{title}}",updateInterval:60,lastUpdateTime:0,includeImages:!0,fetchImageFromLink:!1,dateFormat:"YYYY-MM-DD HH:mm:ss",imageWidth:"50%",autoDeleteEnabled:!1,autoDeleteDays:30,autoDeleteTimeUnit:"days",autoDeleteBasedOn:"saved"};var Bt=class extends ti.Plugin{constructor(){super(...arguments);this.updateIntervalId=null}async onload(){await this.loadSettings(),this.feedFetcher=new dt,this.imageExtractor=new mt(this.feedFetcher),this.updateFeedsUseCase=new Mt(this.app.vault,this.settings,this.feedFetcher,this.imageExtractor),this.addRibbonIcon("rss",M("updateRssFeeds"),n=>{this.updateFeeds()}),this.addSettingTab(new Ut(this.app,this,this.settings,this.saveSettings.bind(this),this.updateFeeds.bind(this),this.startUpdateInterval.bind(this))),this.addCommand({id:"update-rss-feeds",name:M("updateRssFeeds"),callback:()=>{this.updateFeeds()}}),this.startUpdateInterval()}onunload(){this.updateIntervalId&&window.clearInterval(this.updateIntervalId)}async loadSettings(){this.settings=Object.assign({},ce,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}startUpdateInterval(){this.updateIntervalId&&window.clearInterval(this.updateIntervalId),this.settings.updateInterval>0&&(this.updateIntervalId=window.setInterval(()=>{this.updateFeeds()},this.settings.updateInterval*60*1e3))}async updateFeeds(){await this.updateFeedsUseCase.execute(),this.settings.lastUpdateTime=Date.now(),await this.saveSettings()}};
/*! Bundled license information:

sax/lib/sax.js:
  (*! http://mths.be/fromcodepoint v0.1.0 by @mathias *)
*/

/* nosourcemap */